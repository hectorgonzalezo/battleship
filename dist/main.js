(self.webpackChunkBattleship=self.webpackChunkBattleship||[]).push([[179],{181:(n,e,t)=>{"use strict";var r=t(798),o=t.n(r),a=function(){var n=Array(10).fill().map((function(){return[{},{},{},{},{},{},{},{},{},{}]}));function e(){return n.every((function(n){return n.every((function(n){return void 0===n.ship||n.ship.isSunk()}))}))}function t(e,t,r,o){var a,i=(a="horizontal"===o?n[t].slice(r,r+e):(a=(a=n.filter((function(n,r){return r>=t&&r<t+e}))).map((function(n){return n.filter((function(n,e){return e===r}))}))).flat()).some((function(n){return n.hasOwnProperty("ship")})),A=a.length!==e;return i||A}return{getCurrentBoard:function(){return n},placeShip:function(e,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"horizontal",i=e.getLength();if(!t(i,r,o,a))if("horizontal"===a)for(var A=0;A<i;A++){var s=n[r][A+o];s.ship=e,s.shipSquare=A}else if("vertical"===a)for(var c=0;c<i;c++){var l=n[r+c][o];l.ship=e,l.shipSquare=c}},receiveAttack:function(t,r){if(!e()){var o=n[t][r];return i=!0===(a=o).hit,A=void 0!==a.ship&&0===a.ship.getSquares()[a.shipSquare],i||A?"Cant hit the same spot twice":(o.hasOwnProperty("ship")?o.ship.getHit(o.shipSquare):o.hit=!0,e()?"Ships were just sunk":o)}var a,i,A;return"Ships already sunk"},areAllShipsSunk:e}},i=document.querySelector("#player1-board"),A=document.querySelector("#player2-board"),s=a(),c=a();function l(n,e){return e.getCurrentBoard().forEach((function(e,t){var r=document.createElement("div");r.classList.add("row"),r.setAttribute("data",t),n.append(r),e.forEach((function(n,e){var t=document.createElement("div");t.classList.add("square"),r.setAttribute("data",e),r.append(t)}))})),s}o().subscribe("window-loaded",(function(){l(i,s),l(A,c)}));var p=document.querySelectorAll("#ships .ship"),d=document.querySelector("#pop-up .board");p.forEach((function(n){n.addEventListener("dragstart",(function(n){n.currentTarget.classList.add("dragging"),n.dataTransfer.clearData(),n.dataTransfer.setData("text/plain",n.target.id)})),n.addEventListener("dragend",(function(n){n.currentTarget.classList.remove("dragging")}))})),Array.from(d.children).forEach((function(n){Array.from(n.children).forEach((function(n){n.addEventListener("drop",(function(n){n.preventDefault();var e=n.dataTransfer.getData("text/plain"),t=document.getElementById(e);t.getAttribute("data"),t.remove()})),n.addEventListener("dragover",(function(n){return n.preventDefault()}))}))})),window.addEventListener("load",(function(n){o().publish("window-loaded")}));var u=t(379),f=t.n(u),g=t(795),h=t.n(g),b=t(569),C=t.n(b),m=t(565),E=t.n(m),v=t(216),y=t.n(v),B=t(589),w=t.n(B),k=t(426),x={};x.styleTagTransform=w(),x.setAttributes=E(),x.insert=C().bind(null,"head"),x.domAPI=h(),x.insertStyleElement=y(),f()(k.Z,x),k.Z&&k.Z.locals&&k.Z.locals},917:(n,e,t)=>{"use strict";t.d(e,{Z:()=>A});var r=t(537),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([n.id,'/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n:root {\n  box-sizing: border-box;\n}\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: "";\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n',"",{version:3,sources:["webpack://./src/reset.css"],names:[],mappings:"AAAA;;;CAGC;AACD;EACE,sBAAsB;AACxB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAiFE,SAAS;EACT,UAAU;EACV,SAAS;EACT,eAAe;EACf,aAAa;EACb,wBAAwB;AAC1B;AACA,gDAAgD;AAChD;;;;;;;;;;;EAWE,cAAc;AAChB;AACA;EACE,cAAc;AAChB;AACA;;EAEE,gBAAgB;AAClB;AACA;;EAEE,YAAY;AACd;AACA;;;;EAIE,WAAW;EACX,aAAa;AACf;AACA;EACE,yBAAyB;EACzB,iBAAiB;AACnB",sourcesContent:['/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n:root {\n  box-sizing: border-box;\n}\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: "";\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n'],sourceRoot:""}]);const A=i},426:(n,e,t)=>{"use strict";t.d(e,{Z:()=>c});var r=t(537),o=t.n(r),a=t(645),i=t.n(a),A=t(917),s=i()(o());s.i(A.Z),s.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap);"]),s.push([n.id,':root {\n  --board-gap: 2px;\n  --board-size: calc(430px + calc(var(--board-gap) * 10));\n  --color-water: rgb(135, 217, 214);\n  --color-water-dark: rgb(56, 127, 125);\n  --color-background: #27272a;\n  --color-light: #f4f4f5;\n  --color-medium-light: #a1a1aa;\n  --color-medium-dark: #52525b;\n  --color-dark: #3f3f46;\n  --color-complementary1-light: rgb(162, 242, 144);\n  --color-complementary1-dark: rgb(14, 60, 13);\n  --color-complementary2-light: rgb(245, 176, 118);\n  --color-complementary2-dark: rgb(131, 63, 14);\n  font-family: "Roboto", sans-serif;\n}\n\n/* * {\n    outline: dashed red;\n}  */\n\nbody {\n  position: relative;\n  height: 100vh;\n  width: 100vw;\n  color: var(--color-light);\n}\n\n#game {\n  background-color: var(--color-background);\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  grid-template-rows: 100px 1fr 50px;\n  align-items: center;\n}\n\n.inactive {\n  position: absolute;\n  right: -100%;\n}\n\nheader {\n}\n\nmain {\n  width: 100%;\n  display: grid;\n  grid-template-rows: 50px 1fr;\n  grid-template-columns: repeat(2, 1fr);\n  justify-items: center;\n  gap: auto;\n  align-items: center;\n}\n\nmain > h1 {\n  color: var(--color-light);\n  grid-row: 1 / 2;\n}\n\n.board {\n  width: var(--board-size);\n  height: var(--board-size);\n  background-color: var(--color-background);\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  gap: var(--board-gap);\n}\n\n.row {\n  display: flex;\n  height: auto;\n  gap: var(--board-gap);\n}\n\n.square {\n  background-color: var(--color-water);\n  width: 100%;\n  height: 100%;\n}\n\n.square:hover {\n  background-color: var(--color-water-dark);\n}\n\nfooter {\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  width: 100%;\n  gap: 2vw;\n  background-color: var(--color-background);\n  color: white;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,\n    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-size: 1.5rem;\n}\n\n#github-logo {\n  height: 30px;\n}\n\n#pop-up {\n  width: 100vw;\n  height: 100vh;\n  background-color: var(--color-background);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: grid;\n  justify-items: center;\n  grid-template-rows: 1fr 50px 8fr;\n  grid-template-columns: 2fr 1fr;\n  grid-template-areas:\n    "title title"\n    "description description"\n    "board ships";\n}\n\n#pop-up.inactive {\n  left: -100%;\n}\n#pop-up article {\n  grid-area: title;\n}\n\n#pop-up h3 {\n  grid-area: description;\n}\n\n#pop-up .board {\n  grid-area: board;\n}\n\n#ships {\n  grid-area: ships;\n}\n\n#pop-up article {\n  background: linear-gradient(\n    to bottom,\n    rgb(135, 135, 236),\n    var(--color-water)\n  );\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  text-align: center;\n}\n\n#title {\n  font-size: 3rem;\n  font-weight: bold;\n  letter-spacing: 0.3rem;\n  padding: 20px;\n}\n\n#ships {\n  display: grid;\n  align-items: center;\n  justify-items: start;\n}\n\n#ships .ship {\n  display: flex;\n  gap: var(--board-gap);\n}\n\n.ship.dragging {\n  opacity: 0.5;\n}\n\n#ships > .multiple-ships {\n  display: flex;\n  gap: 50px;\n}\n.ship-square {\n  width: calc(var(--board-size) / 10);\n  height: calc(var(--board-size) / 10);\n  background-color: blue;\n}\n\n@media only screen and (max-width: 950px) {\n  main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    justify-content: space-evenly;\n    gap: 30px;\n  }\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAIA;EACE,gBAAgB;EAChB,uDAAuD;EACvD,iCAAiC;EACjC,qCAAqC;EACrC,2BAA2B;EAC3B,sBAAsB;EACtB,6BAA6B;EAC7B,4BAA4B;EAC5B,qBAAqB;EACrB,gDAAgD;EAChD,4CAA4C;EAC5C,gDAAgD;EAChD,6CAA6C;EAC7C,iCAAiC;AACnC;;AAEA;;IAEI;;AAEJ;EACE,kBAAkB;EAClB,aAAa;EACb,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;EACE,yCAAyC;EACzC,aAAa;EACb,YAAY;EACZ,aAAa;EACb,kCAAkC;EAClC,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,YAAY;AACd;;AAEA;AACA;;AAEA;EACE,WAAW;EACX,aAAa;EACb,4BAA4B;EAC5B,qCAAqC;EACrC,qBAAqB;EACrB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,wBAAwB;EACxB,yBAAyB;EACzB,yCAAyC;EACzC,aAAa;EACb,mCAAmC;EACnC,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,qBAAqB;AACvB;;AAEA;EACE,oCAAoC;EACpC,WAAW;EACX,YAAY;AACd;;AAEA;EACE,yCAAyC;AAC3C;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,WAAW;EACX,QAAQ;EACR,yCAAyC;EACzC,YAAY;EACZ;+EAC6E;EAC7E,iBAAiB;AACnB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,yCAAyC;EACzC,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,gCAAgC;EAChC,aAAa;EACb,qBAAqB;EACrB,gCAAgC;EAChC,8BAA8B;EAC9B;;;iBAGe;AACjB;;AAEA;EACE,WAAW;AACb;AACA;EACE,gBAAgB;AAClB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE;;;;GAIC;EACD,6BAA6B;EAC7B,oCAAoC;EACpC,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,sBAAsB;EACtB,aAAa;AACf;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;EACb,SAAS;AACX;AACA;EACE,mCAAmC;EACnC,oCAAoC;EACpC,sBAAsB;AACxB;;AAEA;EACE;IACE,aAAa;IACb,sBAAsB;IACtB,YAAY;IACZ,6BAA6B;IAC7B,SAAS;EACX;AACF",sourcesContent:['@import "./reset.css";\n\n@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");\n\n:root {\n  --board-gap: 2px;\n  --board-size: calc(430px + calc(var(--board-gap) * 10));\n  --color-water: rgb(135, 217, 214);\n  --color-water-dark: rgb(56, 127, 125);\n  --color-background: #27272a;\n  --color-light: #f4f4f5;\n  --color-medium-light: #a1a1aa;\n  --color-medium-dark: #52525b;\n  --color-dark: #3f3f46;\n  --color-complementary1-light: rgb(162, 242, 144);\n  --color-complementary1-dark: rgb(14, 60, 13);\n  --color-complementary2-light: rgb(245, 176, 118);\n  --color-complementary2-dark: rgb(131, 63, 14);\n  font-family: "Roboto", sans-serif;\n}\n\n/* * {\n    outline: dashed red;\n}  */\n\nbody {\n  position: relative;\n  height: 100vh;\n  width: 100vw;\n  color: var(--color-light);\n}\n\n#game {\n  background-color: var(--color-background);\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  grid-template-rows: 100px 1fr 50px;\n  align-items: center;\n}\n\n.inactive {\n  position: absolute;\n  right: -100%;\n}\n\nheader {\n}\n\nmain {\n  width: 100%;\n  display: grid;\n  grid-template-rows: 50px 1fr;\n  grid-template-columns: repeat(2, 1fr);\n  justify-items: center;\n  gap: auto;\n  align-items: center;\n}\n\nmain > h1 {\n  color: var(--color-light);\n  grid-row: 1 / 2;\n}\n\n.board {\n  width: var(--board-size);\n  height: var(--board-size);\n  background-color: var(--color-background);\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  gap: var(--board-gap);\n}\n\n.row {\n  display: flex;\n  height: auto;\n  gap: var(--board-gap);\n}\n\n.square {\n  background-color: var(--color-water);\n  width: 100%;\n  height: 100%;\n}\n\n.square:hover {\n  background-color: var(--color-water-dark);\n}\n\nfooter {\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  width: 100%;\n  gap: 2vw;\n  background-color: var(--color-background);\n  color: white;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,\n    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-size: 1.5rem;\n}\n\n#github-logo {\n  height: 30px;\n}\n\n#pop-up {\n  width: 100vw;\n  height: 100vh;\n  background-color: var(--color-background);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: grid;\n  justify-items: center;\n  grid-template-rows: 1fr 50px 8fr;\n  grid-template-columns: 2fr 1fr;\n  grid-template-areas:\n    "title title"\n    "description description"\n    "board ships";\n}\n\n#pop-up.inactive {\n  left: -100%;\n}\n#pop-up article {\n  grid-area: title;\n}\n\n#pop-up h3 {\n  grid-area: description;\n}\n\n#pop-up .board {\n  grid-area: board;\n}\n\n#ships {\n  grid-area: ships;\n}\n\n#pop-up article {\n  background: linear-gradient(\n    to bottom,\n    rgb(135, 135, 236),\n    var(--color-water)\n  );\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  text-align: center;\n}\n\n#title {\n  font-size: 3rem;\n  font-weight: bold;\n  letter-spacing: 0.3rem;\n  padding: 20px;\n}\n\n#ships {\n  display: grid;\n  align-items: center;\n  justify-items: start;\n}\n\n#ships .ship {\n  display: flex;\n  gap: var(--board-gap);\n}\n\n.ship.dragging {\n  opacity: 0.5;\n}\n\n#ships > .multiple-ships {\n  display: flex;\n  gap: 50px;\n}\n.ship-square {\n  width: calc(var(--board-size) / 10);\n  height: calc(var(--board-size) / 10);\n  background-color: blue;\n}\n\n@media only screen and (max-width: 950px) {\n  main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    justify-content: space-evenly;\n    gap: 30px;\n  }\n}\n'],sourceRoot:""}]);const c=s},645:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var A=0;A<this.length;A++){var s=this[A][0];null!=s&&(i[s]=!0)}for(var c=0;c<n.length;c++){var l=[].concat(n[c]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},537:n=>{"use strict";n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=t.sources.map((function(n){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(n," */")}));return[e].concat(i).concat([a]).join("\n")}return[e].join("\n")}},798:function(n,e,t){n=t.nmd(n),function(t,r){"use strict";var o={};t.PubSub?(o=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=o,function(n){var e={},t=-1;function r(n,e,t){try{n(e,t)}catch(n){setTimeout(function(n){return function(){throw n}}(n),0)}}function o(n,e,t){n(e,t)}function a(n,t,a,i){var A,s=e[t],c=i?o:r;if(Object.prototype.hasOwnProperty.call(e,t))for(A in s)Object.prototype.hasOwnProperty.call(s,A)&&c(s[A],n,a)}function i(n){var t=String(n);return Boolean(Object.prototype.hasOwnProperty.call(e,t)&&function(n){var e;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!0;return!1}(e[t]))}function A(n,e,t,r){var o=function(n,e,t){return function(){var r=String(n),o=r.lastIndexOf(".");for(a(n,n,e,t);-1!==o;)o=(r=r.substr(0,o)).lastIndexOf("."),a(n,r,e,t);a(n,"*",e,t)}}(n="symbol"==typeof n?n.toString():n,e,r);return!!function(n){for(var e=String(n),t=i(e)||i("*"),r=e.lastIndexOf(".");!t&&-1!==r;)r=(e=e.substr(0,r)).lastIndexOf("."),t=i(e);return t}(n)&&(!0===t?o():setTimeout(o,0),!0)}n.publish=function(e,t){return A(e,t,!1,n.immediateExceptions)},n.publishSync=function(e,t){return A(e,t,!0,n.immediateExceptions)},n.subscribe=function(n,r){if("function"!=typeof r)return!1;n="symbol"==typeof n?n.toString():n,Object.prototype.hasOwnProperty.call(e,n)||(e[n]={});var o="uid_"+String(++t);return e[n][o]=r,o},n.subscribeAll=function(e){return n.subscribe("*",e)},n.subscribeOnce=function(e,t){var r=n.subscribe(e,(function(){n.unsubscribe(r),t.apply(this,arguments)}));return n},n.clearAllSubscriptions=function(){e={}},n.clearSubscriptions=function(n){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)&&delete e[t]},n.countSubscriptions=function(n){var t,r,o=0;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)){for(r in e[t])o++;break}return o},n.getSubscriptions=function(n){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)&&r.push(t);return r},n.unsubscribe=function(t){var r,o,a,i="string"==typeof t&&(Object.prototype.hasOwnProperty.call(e,t)||function(n){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n))return!0;return!1}(t)),A=!i&&"string"==typeof t,s="function"==typeof t,c=!1;if(!i){for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(o=e[r],A&&o[t]){delete o[t],c=t;break}if(s)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&o[a]===t&&(delete o[a],c=!0)}return c}n.clearSubscriptions(t)}}(o)),void 0!==n&&n.exports&&(e=n.exports=o),e.PubSub=o,n.exports=e=o}("object"==typeof window&&window||this)},379:n=>{"use strict";var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],A=0;A<n.length;A++){var s=n[A],c=r.base?s[0]+r.base:s[0],l=a[c]||0,p="".concat(c," ").concat(l);a[c]=l+1;var d=t(p),u={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)e[d].references++,e[d].updater(u);else{var f=o(u,r);r.byIndex=A,e.splice(A,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var A=t(a[i]);e[A].references--}for(var s=r(n,o),c=0;c<a.length;c++){var l=t(a[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=s}}},569:n=>{"use strict";var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{"use strict";n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{"use strict";n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{"use strict";n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{"use strict";n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},n=>{n(n.s=181)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiNEhBK0JNQSxFQUFZLFdBR2hCLElBQU1DLEVBQWVDLE1BQU0sSUFDeEJDLE9BQ0FDLEtBQUksaUJBQU0sQ0FBQyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsRUFBRyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsRUFBRyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsRUFBRyxDQUFDLEVBQTVDLElBTVAsU0FBU0MsSUFFUCxPQUFPSixFQUFhSyxPQUFNLFNBQUNDLEdBQUQsT0FDeEJBLEVBQUlELE9BQU0sU0FBQ0UsR0FDVCxZQUFvQkMsSUFBaEJELEVBQU9FLE1BQ0ZGLEVBQU9FLEtBQUtDLFFBR3RCLEdBTnVCLEdBUTNCLENBVUQsU0FBU0MsRUFBVUMsRUFBUUMsRUFBVUMsRUFBYUMsR0FDaEQsSUFBSUMsRUFrQkVDLEdBZkpELEVBRmdCLGVBQWRELEVBRVNmLEVBQWFhLEdBQVVLLE1BQ2hDSixFQUNBQSxFQUFjRixJQVFoQkksR0FKQUEsRUFBV2hCLEVBQWFtQixRQUN0QixTQUFDYixFQUFLYyxHQUFOLE9BQVlBLEdBQUtQLEdBQVlPLEVBQUlQLEVBQVdELENBQTVDLEtBR2tCVCxLQUFJLFNBQUNHLEdBQUQsT0FDdEJBLEVBQUlhLFFBQU8sU0FBQ0UsRUFBUUQsR0FBVCxPQUFlQSxJQUFNTixDQUFyQixHQURXLEtBR0pRLFFBRVNDLE1BQUssU0FBQ2hCLEdBQUQsT0FDbENBLEVBQU9pQixlQUFlLE9BRFksSUFHOUJDLEVBQWdCVCxFQUFTSixTQUFXQSxFQUMxQyxPQUFPSyxHQUFpQlEsQ0FDekIsQ0ErQ0QsTUFBTyxDQUFFQyxnQkEvRmUsV0FDdEIsT0FBTzFCLENBQ1IsRUE2RnlCMkIsVUE3QzFCLFNBQW1CbEIsRUFBTUksRUFBVUMsR0FBdUMsSUFBMUJDLEVBQTBCLHVEQUFkLGFBQ3BESCxFQUFTSCxFQUFLbUIsWUFFcEIsSUFBS2pCLEVBQVVDLEVBQVFDLEVBQVVDLEVBQWFDLEdBQzVDLEdBQWtCLGVBQWRBLEVBQ0YsSUFBSyxJQUFJSyxFQUFJLEVBQUdBLEVBQUlSLEVBQVFRLElBQUssQ0FFL0IsSUFBTVMsRUFBaUI3QixFQUFhYSxHQUFVTyxFQUFJTixHQUNsRGUsRUFBZXBCLEtBQU9BLEVBQ3RCb0IsRUFBZUMsV0FBYVYsQ0FDN0IsTUFDSSxHQUFrQixhQUFkTCxFQUVULElBQUssSUFBSUssRUFBSSxFQUFHQSxFQUFJUixFQUFRUSxJQUFLLENBQy9CLElBQU1TLEVBQWlCN0IsRUFBYWEsRUFBV08sR0FBR04sR0FDbERlLEVBQWVwQixLQUFPQSxFQUN0Qm9CLEVBQWVDLFdBQWFWLENBQzdCLENBR04sRUF5Qm9DVyxjQXZCckMsU0FBdUJsQixFQUFVQyxHQUMvQixJQUFLVixJQUFtQixDQUN0QixJQUFNNEIsRUFBZWhDLEVBQWFhLEdBQVVDLEdBQzVDLE9BMURJbUIsR0FBa0MsS0FEcEIxQixFQTJERHlCLEdBMURhRSxJQUMxQkMsT0FDWTNCLElBQWhCRCxFQUFPRSxNQUN5QyxJQUFoREYsRUFBT0UsS0FBSzJCLGFBQWE3QixFQUFPdUIsWUFDM0JHLEdBQW9CRSxFQXVEaEIsZ0NBR0xILEVBQWFSLGVBQWUsUUFFOUJRLEVBQWF2QixLQUFLNEIsT0FBT0wsRUFBYUYsWUFHdENFLEVBQWFFLEtBQU0sRUFFakI5QixJQUVLLHVCQUVGNEIsRUFDUixDQTNFSCxJQUFzQnpCLEVBQ2QwQixFQUNBRSxFQTBFTixNQUFPLG9CQUNSLEVBRW1EL0IsZ0JBQUFBLEVBQ3JELEVDbklLa0MsRUFBa0JDLFNBQVNDLGNBQWMsa0JBQ3pDQyxFQUFrQkYsU0FBU0MsY0FBYyxrQkFFekNFLEVBQWUzQyxJQUNmNEMsRUFBZTVDLElBRXJCLFNBQVM2QyxFQUFlQyxFQUFXQyxHQWlCakMsT0FmQUEsRUFBTXBCLGtCQUFrQnFCLFNBQVEsU0FBQ3pDLEVBQUtjLEdBRXBDLElBQU00QixFQUFTVCxTQUFTVSxjQUFjLE9BQ3RDRCxFQUFPRSxVQUFVQyxJQUFJLE9BQ3JCSCxFQUFPSSxhQUFhLE9BQVFoQyxHQUM1QnlCLEVBQVVRLE9BQU9MLEdBQ2pCMUMsRUFBSXlDLFNBQVEsU0FBQ3hDLEVBQVErQyxHQUVuQixJQUFNQyxFQUFZaEIsU0FBU1UsY0FBYyxPQUN6Q00sRUFBVUwsVUFBVUMsSUFBSSxVQUN4QkgsRUFBT0ksYUFBYSxPQUFRRSxHQUM1Qk4sRUFBT0ssT0FBT0UsRUFDZixHQUNGLElBRU1iLENBQ1IsQ0FPRGMsSUFBQUEsVUFBaUIsaUJBTGpCLFdBQ0VaLEVBQWVOLEVBQWlCSSxHQUNoQ0UsRUFBZUgsRUFBaUJFLEVBQ2pDLElDOUJELElBQU1jLEVBQWFsQixTQUFTbUIsaUJBQWlCLGdCQUN2Q0MsRUFBYXBCLFNBQVNDLGNBQWMsa0JBTzFDaUIsRUFBV1YsU0FBUSxTQUFDdEMsR0FDbEJBLEVBQUttRCxpQkFBaUIsYUFBYSxTQUFDQyxHQUVsQ0EsRUFBRUMsY0FBY1osVUFBVUMsSUFBSSxZQUM5QlUsRUFBRUUsYUFBYUMsWUFDZkgsRUFBRUUsYUFBYUUsUUFBUSxhQUFjSixFQUFFSyxPQUFPQyxHQUMvQyxJQUVEMUQsRUFBS21ELGlCQUFpQixXQUFXLFNBQUNDLEdBQ2hDQSxFQUFFQyxjQUFjWixVQUFVa0IsT0FBTyxXQUNsQyxHQUNGLElBR0RuRSxNQUFNb0UsS0FBS1YsRUFBV1csVUFBVXZCLFNBQVEsU0FBQ3pDLEdBQ3ZDTCxNQUFNb0UsS0FBSy9ELEVBQUlnRSxVQUFVdkIsU0FBUSxTQUFDeEMsR0FDaENBLEVBQU9xRCxpQkFBaUIsUUFBUSxTQUFDQyxHQUMvQkEsRUFBRVUsaUJBQ0YsSUFBTUosRUFBS04sRUFBRUUsYUFBYVMsUUFBUSxjQUM1QkMsRUFBY2xDLFNBQVNtQyxlQUFlUCxHQUMzQk0sRUFBWUUsYUFBYSxRQUUxQ0YsRUFBWUwsUUFHYixJQUNEN0QsRUFBT3FELGlCQUFpQixZQUFZLFNBQUNDLEdBQUQsT0FBT0EsRUFBRVUsZ0JBQVQsR0FDckMsR0FDRixJQ3BDREssT0FBT2hCLGlCQUFpQixRQUFRLFNBQUNpQixHQUMvQnJCLElBQUFBLFFBQWUsZ0JBQ2hCLEkseUhDT0dzQixFQUFVLENBQUMsRUFFZkEsRUFBUUMsa0JBQW9CLElBQzVCRCxFQUFRRSxjQUFnQixJQUVsQkYsRUFBUUcsT0FBUyxTQUFjLEtBQU0sUUFFM0NILEVBQVFJLE9BQVMsSUFDakJKLEVBQVFLLG1CQUFxQixJQUVoQixJQUFJLElBQVNMLEdBS0osS0FBVyxZQUFpQixVLDZFQ3ZCOUNNLEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9uQixHQUFJLDJ2Q0FBOHZDLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLDZCQUE2QixNQUFRLEdBQUcsU0FBVyxtWEFBbVgsZUFBaUIsQ0FBQyw0dkNBQTh2QyxXQUFhLE1BRXJnRyxTLCtGQ0hJaUIsRUFBMEIsSUFBNEIsS0FDMURBLEVBQXdCaEUsRUFBRSxLQUMxQmdFLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9uQixHQUFJLDRGQUV6Q2lCLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9uQixHQUFJLG9nSEFBcWhILEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLDZCQUE2QixNQUFRLEdBQUcsU0FBVyxrL0NBQWsvQyxlQUFpQixDQUFDLDRuSEFBZ3BILFdBQWEsTUFFN3lSLFMsdUJDSkFtQixFQUFPQyxRQUFVLFNBQVVDLEdBQ3pCLElBQUlDLEVBQU8sR0E2RlgsT0EzRkFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLeEYsS0FBSSxTQUFVeUYsR0FDeEIsSUFBSUMsRUFBVSxHQUNWQyxPQUErQixJQUFaRixFQUFLLEdBNEI1QixPQTFCSUEsRUFBSyxLQUNQQyxHQUFXLGNBQWNFLE9BQU9ILEVBQUssR0FBSSxRQUd2Q0EsRUFBSyxLQUNQQyxHQUFXLFVBQVVFLE9BQU9ILEVBQUssR0FBSSxPQUduQ0UsSUFDRkQsR0FBVyxTQUFTRSxPQUFPSCxFQUFLLEdBQUdoRixPQUFTLEVBQUksSUFBSW1GLE9BQU9ILEVBQUssSUFBTSxHQUFJLE9BRzVFQyxHQUFXTCxFQUF1QkksR0FFOUJFLElBQ0ZELEdBQVcsS0FHVEQsRUFBSyxLQUNQQyxHQUFXLEtBR1RELEVBQUssS0FDUEMsR0FBVyxLQUdOQSxDQUNULElBQUdHLEtBQUssR0FDVixFQUdBUCxFQUFLckUsRUFBSSxTQUFXNkUsRUFBU0MsRUFBT0MsRUFBUUMsRUFBVUMsR0FDN0IsaUJBQVpKLElBQ1RBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLE9BQVN6RixLQUc3QixJQUFJOEYsRUFBeUIsQ0FBQyxFQUU5QixHQUFJSCxFQUNGLElBQUssSUFBSUksRUFBSSxFQUFHQSxFQUFJWixLQUFLL0UsT0FBUTJGLElBQUssQ0FDcEMsSUFBSXBDLEVBQUt3QixLQUFLWSxHQUFHLEdBRVAsTUFBTnBDLElBQ0ZtQyxFQUF1Qm5DLElBQU0sRUFFakMsQ0FHRixJQUFLLElBQUlxQyxFQUFLLEVBQUdBLEVBQUtQLEVBQVFyRixPQUFRNEYsSUFBTSxDQUMxQyxJQUFJWixFQUFPLEdBQUdHLE9BQU9FLEVBQVFPLElBRXpCTCxHQUFVRyxFQUF1QlYsRUFBSyxXQUlyQixJQUFWUyxTQUNjLElBQVpULEVBQUssS0FHZEEsRUFBSyxHQUFLLFNBQVNHLE9BQU9ILEVBQUssR0FBR2hGLE9BQVMsRUFBSSxJQUFJbUYsT0FBT0gsRUFBSyxJQUFNLEdBQUksTUFBTUcsT0FBT0gsRUFBSyxHQUFJLE1BRi9GQSxFQUFLLEdBQUtTLEdBT1ZILElBQ0dOLEVBQUssSUFHUkEsRUFBSyxHQUFLLFVBQVVHLE9BQU9ILEVBQUssR0FBSSxNQUFNRyxPQUFPSCxFQUFLLEdBQUksS0FDMURBLEVBQUssR0FBS00sR0FIVk4sRUFBSyxHQUFLTSxHQU9WRSxJQUNHUixFQUFLLElBR1JBLEVBQUssR0FBSyxjQUFjRyxPQUFPSCxFQUFLLEdBQUksT0FBT0csT0FBT0gsRUFBSyxHQUFJLEtBQy9EQSxFQUFLLEdBQUtRLEdBSFZSLEVBQUssR0FBSyxHQUFHRyxPQUFPSyxJQU94QlgsRUFBS0osS0FBS08sR0FDWixDQUNGLEVBRU9ILENBQ1QsQyx1QkNuR0FILEVBQU9DLFFBQVUsU0FBVUssR0FDekIsSUFBSUMsRUFBVUQsRUFBSyxHQUNmYSxFQUFhYixFQUFLLEdBRXRCLElBQUthLEVBQ0gsT0FBT1osRUFHVCxHQUFvQixtQkFBVGEsS0FBcUIsQ0FDOUIsSUFBSUMsRUFBU0QsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVTixNQUN6RE8sRUFBTywrREFBK0RqQixPQUFPWSxHQUM3RU0sRUFBZ0IsT0FBT2xCLE9BQU9pQixFQUFNLE9BQ3BDRSxFQUFhVCxFQUFXVSxRQUFRaEgsS0FBSSxTQUFVaUgsR0FDaEQsTUFBTyxpQkFBaUJyQixPQUFPVSxFQUFXWSxZQUFjLElBQUl0QixPQUFPcUIsRUFBUSxNQUM3RSxJQUNBLE1BQU8sQ0FBQ3ZCLEdBQVNFLE9BQU9tQixHQUFZbkIsT0FBTyxDQUFDa0IsSUFBZ0JqQixLQUFLLEtBQ25FLENBRUEsTUFBTyxDQUFDSCxHQUFTRyxLQUFLLEtBQ3hCLEMsaUNDZEMsU0FBVXNCLEVBQU1DLEdBQ2IsYUFFQSxJQUFJL0QsRUFBUyxDQUFDLEVBRVY4RCxFQUFLOUQsUUFDTEEsRUFBUzhELEVBQUs5RCxPQUNkZ0UsUUFBUUMsS0FBSyxtREFFYkgsRUFBSzlELE9BQVNBLEVBa0I4QixTQUFVQSxHQUcxRCxJQUFJa0UsRUFBVyxDQUFDLEVBQ1pDLEdBQVcsRUEwQmYsU0FBU0MsRUFBcUNDLEVBQVlDLEVBQVNkLEdBQy9ELElBQ0lhLEVBQVlDLEVBQVNkLEVBR3pCLENBRkUsTUFBT2UsR0FDTEMsV0FWUixTQUF5QkQsR0FDckIsT0FBTyxXQUNILE1BQU1BLENBQ1YsQ0FDSixDQU1vQkUsQ0FBZ0JGLEdBQU0sRUFDdEMsQ0FDSixDQUVBLFNBQVNHLEVBQXVDTCxFQUFZQyxFQUFTZCxHQUNqRWEsRUFBWUMsRUFBU2QsRUFDekIsQ0FFQSxTQUFTbUIsRUFBZ0JDLEVBQWlCQyxFQUFnQnJCLEVBQU1zQixHQUM1RCxJQUVJQyxFQUZBQyxFQUFjZCxFQUFTVyxHQUN2QkksRUFBaUJILEVBQXNCSixFQUF3Q04sRUFHbkYsR0FBTWMsT0FBT0MsVUFBVW5ILGVBQWVvSCxLQUFNbEIsRUFBVVcsR0FJdEQsSUFBS0UsS0FBS0MsRUFDREUsT0FBT0MsVUFBVW5ILGVBQWVvSCxLQUFLSixFQUFhRCxJQUNuREUsRUFBZ0JELEVBQVlELEdBQUlILEVBQWlCcEIsRUFHN0QsQ0FxQkEsU0FBUzZCLEVBQXlCZixHQUM5QixJQUFJZ0IsRUFBUUMsT0FBUWpCLEdBR3BCLE9BRllrQixRQUFRTixPQUFPQyxVQUFVbkgsZUFBZW9ILEtBQU1sQixFQUFVb0IsSUF4RXhFLFNBQWlCRyxHQUNiLElBQUlDLEVBRUosSUFBS0EsS0FBT0QsRUFDUixHQUFLUCxPQUFPQyxVQUFVbkgsZUFBZW9ILEtBQUtLLEVBQUtDLEdBQzNDLE9BQU8sRUFHZixPQUFPLENBQ1gsQ0ErRG1GQyxDQUFRekIsRUFBU29CLElBR3BHLENBZ0JBLFNBQVNNLEVBQVN0QixFQUFTZCxFQUFNcUMsRUFBTWYsR0FHbkMsSUFBSWdCLEVBM0NSLFNBQWlDeEIsRUFBU2QsRUFBTXNCLEdBQzVDLE9BQU8sV0FDSCxJQUFJUSxFQUFRQyxPQUFRakIsR0FDaEJ5QixFQUFXVCxFQUFNVSxZQUFhLEtBTWxDLElBSEFyQixFQUFlTCxFQUFTQSxFQUFTZCxFQUFNc0IsSUFHbEIsSUFBZGlCLEdBRUhBLEdBREFULEVBQVFBLEVBQU1XLE9BQVEsRUFBR0YsSUFDUkMsWUFBWSxLQUM3QnJCLEVBQWdCTCxFQUFTZ0IsRUFBTzlCLEVBQU1zQixHQUcxQ0gsRUFBZUwsRUFwRUcsSUFvRTJCZCxFQUFNc0IsRUFDdkQsQ0FDSixDQTBCa0JvQixDQUZkNUIsRUFBOEIsaUJBQVpBLEVBQXdCQSxFQUFRcEMsV0FBYW9DLEVBRWhCZCxFQUFNc0IsR0FHckQsUUFwQkosU0FBZ0NSLEdBSzVCLElBSkEsSUFBSWdCLEVBQVFDLE9BQVFqQixHQUNoQjZCLEVBQVFkLEVBQXdCQyxJQUFVRCxFQWpGeEIsS0FrRmxCVSxFQUFXVCxFQUFNVSxZQUFhLE1BRXpCRyxJQUF1QixJQUFkSixHQUVkQSxHQURBVCxFQUFRQSxFQUFNVyxPQUFRLEVBQUdGLElBQ1JDLFlBQWEsS0FDOUJHLEVBQVFkLEVBQXdCQyxHQUdwQyxPQUFPYSxDQUNYLENBTXlCQyxDQUF1QjlCLE1BTTlCLElBQVR1QixFQUNEQyxJQUVBdEIsV0FBWXNCLEVBQVMsSUFFbEIsRUFDWCxDQVVBOUYsRUFBTzRGLFFBQVUsU0FBVXRCLEVBQVNkLEdBQ2hDLE9BQU9vQyxFQUFTdEIsRUFBU2QsR0FBTSxFQUFPeEQsRUFBTzhFLG9CQUNqRCxFQVVBOUUsRUFBT3FHLFlBQWMsU0FBVS9CLEVBQVNkLEdBQ3BDLE9BQU9vQyxFQUFTdEIsRUFBU2QsR0FBTSxFQUFNeEQsRUFBTzhFLG9CQUNoRCxFQVVBOUUsRUFBT3NHLFVBQVksU0FBVWhDLEVBQVNpQyxHQUNsQyxHQUFxQixtQkFBVEEsRUFDUixPQUFPLEVBR1hqQyxFQUE4QixpQkFBWkEsRUFBd0JBLEVBQVFwQyxXQUFhb0MsRUFHekRZLE9BQU9DLFVBQVVuSCxlQUFlb0gsS0FBTWxCLEVBQVVJLEtBQ2xESixFQUFTSSxHQUFXLENBQUMsR0FLekIsSUFBSWtDLEVBQVEsT0FBU2pCLFNBQVNwQixHQUk5QixPQUhBRCxFQUFTSSxHQUFTa0MsR0FBU0QsRUFHcEJDLENBQ1gsRUFFQXhHLEVBQU95RyxhQUFlLFNBQVVGLEdBQzVCLE9BQU92RyxFQUFPc0csVUFyS1EsSUFxS3VCQyxFQUNqRCxFQVVBdkcsRUFBTzBHLGNBQWdCLFNBQVVwQyxFQUFTaUMsR0FDdEMsSUFBSUMsRUFBUXhHLEVBQU9zRyxVQUFXaEMsR0FBUyxXQUVuQ3RFLEVBQU8yRyxZQUFhSCxHQUNwQkQsRUFBS0ssTUFBT3pFLEtBQU0wRSxVQUN0QixJQUNBLE9BQU83RyxDQUNYLEVBUUFBLEVBQU84RyxzQkFBd0IsV0FDM0I1QyxFQUFXLENBQUMsQ0FDaEIsRUFTQWxFLEVBQU8rRyxtQkFBcUIsU0FBNEJ6QixHQUNwRCxJQUFJMEIsRUFDSixJQUFLQSxLQUFLOUMsRUFDRmdCLE9BQU9DLFVBQVVuSCxlQUFlb0gsS0FBS2xCLEVBQVU4QyxJQUEyQixJQUFyQkEsRUFBRUMsUUFBUTNCLFdBQ3hEcEIsRUFBUzhDLEVBRzVCLEVBU0FoSCxFQUFPa0gsbUJBQXFCLFNBQTRCNUIsR0FDcEQsSUFBSTBCLEVBRUFSLEVBQ0FXLEVBQVEsRUFDWixJQUFLSCxLQUFLOUMsRUFDTixHQUFJZ0IsT0FBT0MsVUFBVW5ILGVBQWVvSCxLQUFLbEIsRUFBVThDLElBQTJCLElBQXJCQSxFQUFFQyxRQUFRM0IsR0FBYyxDQUM3RSxJQUFLa0IsS0FBU3RDLEVBQVM4QyxHQUNuQkcsSUFFSixLQUNKLENBRUosT0FBT0EsQ0FDWCxFQVNBbkgsRUFBT29ILGlCQUFtQixTQUEwQjlCLEdBQ2hELElBQUkwQixFQUNBL0UsRUFBTyxHQUNYLElBQUsrRSxLQUFLOUMsRUFDRmdCLE9BQU9DLFVBQVVuSCxlQUFlb0gsS0FBS2xCLEVBQVU4QyxJQUEyQixJQUFyQkEsRUFBRUMsUUFBUTNCLElBQy9EckQsRUFBS0osS0FBS21GLEdBR2xCLE9BQU8vRSxDQUNYLEVBc0JBakMsRUFBTzJHLFlBQWMsU0FBU1UsR0FDMUIsSUFlSUwsRUFBRzFDLEVBQVNnRCxFQUpaQyxFQUE4QixpQkFBVkYsSUFBd0JuQyxPQUFPQyxVQUFVbkgsZUFBZW9ILEtBQUtsQixFQUFVbUQsSUFYbkUsU0FBUy9CLEdBQzdCLElBQUkwQixFQUNKLElBQU1BLEtBQUs5QyxFQUNQLEdBQUtnQixPQUFPQyxVQUFVbkgsZUFBZW9ILEtBQUtsQixFQUFVOEMsSUFBMkIsSUFBckJBLEVBQUVDLFFBQVEzQixHQUVoRSxPQUFPLEVBSWYsT0FBTyxDQUNYLENBQ3FHa0MsQ0FBc0JILElBQzNISSxHQUFjRixHQUE0QixpQkFBVkYsRUFDaENLLEVBQThCLG1CQUFWTCxFQUNwQk0sR0FBUyxFQUdiLElBQUlKLEVBQUosQ0FLQSxJQUFNUCxLQUFLOUMsRUFDUCxHQUFLZ0IsT0FBT0MsVUFBVW5ILGVBQWVvSCxLQUFNbEIsRUFBVThDLEdBQUssQ0FHdEQsR0FGQTFDLEVBQVVKLEVBQVM4QyxHQUVkUyxHQUFXbkQsRUFBUStDLEdBQVEsUUFDckIvQyxFQUFRK0MsR0FDZk0sRUFBU04sRUFFVCxLQUNKLENBRUEsR0FBSUssRUFDQSxJQUFNSixLQUFLaEQsRUFDSFksT0FBT0MsVUFBVW5ILGVBQWVvSCxLQUFLZCxFQUFTZ0QsSUFBTWhELEVBQVFnRCxLQUFPRCxXQUM1RC9DLEVBQVFnRCxHQUNmSyxHQUFTLEVBSXpCLENBR0osT0FBT0EsQ0F4QlAsQ0FGSTNILEVBQU8rRyxtQkFBbUJNLEVBMkJsQyxDQUNKLENBclZRdEQsQ0FBUS9ELFNBSU9oRCxJQUFYOEUsR0FBd0JBLEVBQU9DLFVBQy9CQSxFQUFVRCxFQUFPQyxRQUFVL0IsR0FFL0IrQixFQUFRL0IsT0FBU0EsRUFDakI4QixFQUFPQyxRQUFVQSxFQUFVL0IsQ0FTbkMsQ0EzQkEsQ0EyQnNCLGlCQUFYb0IsUUFBdUJBLFFBQVllLEssdUJDaEM5QyxJQUFJeUYsRUFBYyxHQUVsQixTQUFTQyxFQUFxQkMsR0FHNUIsSUFGQSxJQUFJSCxHQUFVLEVBRUwvSixFQUFJLEVBQUdBLEVBQUlnSyxFQUFZeEssT0FBUVEsSUFDdEMsR0FBSWdLLEVBQVloSyxHQUFHa0ssYUFBZUEsRUFBWSxDQUM1Q0gsRUFBUy9KLEVBQ1QsS0FDRixDQUdGLE9BQU8rSixDQUNULENBRUEsU0FBU0ksRUFBYTlGLEVBQU1YLEdBSTFCLElBSEEsSUFBSTBHLEVBQWEsQ0FBQyxFQUNkQyxFQUFjLEdBRVRySyxFQUFJLEVBQUdBLEVBQUlxRSxFQUFLN0UsT0FBUVEsSUFBSyxDQUNwQyxJQUFJd0UsRUFBT0gsRUFBS3JFLEdBQ1orQyxFQUFLVyxFQUFRNEcsS0FBTzlGLEVBQUssR0FBS2QsRUFBUTRHLEtBQU85RixFQUFLLEdBQ2xEK0UsRUFBUWEsRUFBV3JILElBQU8sRUFDMUJtSCxFQUFhLEdBQUd2RixPQUFPNUIsRUFBSSxLQUFLNEIsT0FBTzRFLEdBQzNDYSxFQUFXckgsR0FBTXdHLEVBQVEsRUFDekIsSUFBSWdCLEVBQW9CTixFQUFxQkMsR0FDekNyQyxFQUFNLENBQ1IyQyxJQUFLaEcsRUFBSyxHQUNWTSxNQUFPTixFQUFLLEdBQ1ppRyxVQUFXakcsRUFBSyxHQUNoQlEsU0FBVVIsRUFBSyxHQUNmUyxNQUFPVCxFQUFLLElBR2QsSUFBMkIsSUFBdkIrRixFQUNGUCxFQUFZTyxHQUFtQkcsYUFDL0JWLEVBQVlPLEdBQW1CSSxRQUFROUMsT0FDbEMsQ0FDTCxJQUFJOEMsRUFBVUMsRUFBZ0IvQyxFQUFLbkUsR0FDbkNBLEVBQVFtSCxRQUFVN0ssRUFDbEJnSyxFQUFZYyxPQUFPOUssRUFBRyxFQUFHLENBQ3ZCa0ssV0FBWUEsRUFDWlMsUUFBU0EsRUFDVEQsV0FBWSxHQUVoQixDQUVBTCxFQUFZcEcsS0FBS2lHLEVBQ25CLENBRUEsT0FBT0csQ0FDVCxDQUVBLFNBQVNPLEVBQWdCL0MsRUFBS25FLEdBQzVCLElBQUlxSCxFQUFNckgsRUFBUUksT0FBT0osR0FlekIsT0FkQXFILEVBQUlDLE9BQU9uRCxHQUVHLFNBQWlCb0QsR0FDN0IsR0FBSUEsRUFBUSxDQUNWLEdBQUlBLEVBQU9ULE1BQVEzQyxFQUFJMkMsS0FBT1MsRUFBT25HLFFBQVUrQyxFQUFJL0MsT0FBU21HLEVBQU9SLFlBQWM1QyxFQUFJNEMsV0FBYVEsRUFBT2pHLFdBQWE2QyxFQUFJN0MsVUFBWWlHLEVBQU9oRyxRQUFVNEMsRUFBSTVDLE1BQ3pKLE9BR0Y4RixFQUFJQyxPQUFPbkQsRUFBTW9ELEVBQ25CLE1BQ0VGLEVBQUkvSCxRQUVSLENBR0YsQ0FFQWtCLEVBQU9DLFFBQVUsU0FBVUUsRUFBTVgsR0FHL0IsSUFBSXdILEVBQWtCZixFQUR0QjlGLEVBQU9BLEdBQVEsR0FEZlgsRUFBVUEsR0FBVyxDQUFDLEdBR3RCLE9BQU8sU0FBZ0J5SCxHQUNyQkEsRUFBVUEsR0FBVyxHQUVyQixJQUFLLElBQUluTCxFQUFJLEVBQUdBLEVBQUlrTCxFQUFnQjFMLE9BQVFRLElBQUssQ0FDL0MsSUFDSW9MLEVBQVFuQixFQURLaUIsRUFBZ0JsTCxJQUVqQ2dLLEVBQVlvQixHQUFPVixZQUNyQixDQUlBLElBRkEsSUFBSVcsRUFBcUJsQixFQUFhZ0IsRUFBU3pILEdBRXRDNEgsRUFBSyxFQUFHQSxFQUFLSixFQUFnQjFMLE9BQVE4TCxJQUFNLENBQ2xELElBRUlDLEVBQVN0QixFQUZLaUIsRUFBZ0JJLElBSUssSUFBbkN0QixFQUFZdUIsR0FBUWIsYUFDdEJWLEVBQVl1QixHQUFRWixVQUVwQlgsRUFBWWMsT0FBT1MsRUFBUSxHQUUvQixDQUVBTCxFQUFrQkcsQ0FDcEIsQ0FDRixDLHVCQ3JHQSxJQUFJRyxFQUFPLENBQUMsRUFvQ1p0SCxFQUFPQyxRQVZQLFNBQTBCTixFQUFRNEgsR0FDaEMsSUFBSTNJLEVBeEJOLFNBQW1CQSxHQUNqQixRQUE0QixJQUFqQjBJLEVBQUsxSSxHQUF5QixDQUN2QyxJQUFJNEksRUFBY3ZLLFNBQVNDLGNBQWMwQixHQUV6QyxHQUFJVSxPQUFPbUksbUJBQXFCRCxhQUF1QmxJLE9BQU9tSSxrQkFDNUQsSUFHRUQsRUFBY0EsRUFBWUUsZ0JBQWdCQyxJQUk1QyxDQUhFLE1BQU9wSixHQUVQaUosRUFBYyxJQUNoQixDQUdGRixFQUFLMUksR0FBVTRJLENBQ2pCLENBRUEsT0FBT0YsRUFBSzFJLEVBQ2QsQ0FLZWdKLENBQVVqSSxHQUV2QixJQUFLZixFQUNILE1BQU0sSUFBSWlKLE1BQU0sMkdBR2xCakosRUFBT2tKLFlBQVlQLEVBQ3JCLEMsdUJDMUJBdkgsRUFBT0MsUUFQUCxTQUE0QlQsR0FDMUIsSUFBSXVJLEVBQVU5SyxTQUFTVSxjQUFjLFNBR3JDLE9BRkE2QixFQUFRRSxjQUFjcUksRUFBU3ZJLEVBQVF3SSxZQUN2Q3hJLEVBQVFHLE9BQU9vSSxFQUFTdkksRUFBUUEsU0FDekJ1SSxDQUNULEMsNkJDR0EvSCxFQUFPQyxRQVJQLFNBQXdDZ0ksR0FDdEMsSUFBSUMsRUFBbUQsS0FFbkRBLEdBQ0ZELEVBQWFuSyxhQUFhLFFBQVNvSyxFQUV2QyxDLHVCQzREQWxJLEVBQU9DLFFBWlAsU0FBZ0JULEdBQ2QsSUFBSXlJLEVBQWV6SSxFQUFRSyxtQkFBbUJMLEdBQzlDLE1BQU8sQ0FDTHNILE9BQVEsU0FBZ0JuRCxJQXpENUIsU0FBZXNFLEVBQWN6SSxFQUFTbUUsR0FDcEMsSUFBSTJDLEVBQU0sR0FFTjNDLEVBQUk3QyxXQUNOd0YsR0FBTyxjQUFjN0YsT0FBT2tELEVBQUk3QyxTQUFVLFFBR3hDNkMsRUFBSS9DLFFBQ04wRixHQUFPLFVBQVU3RixPQUFPa0QsRUFBSS9DLE1BQU8sT0FHckMsSUFBSUosT0FBaUMsSUFBZG1ELEVBQUk1QyxNQUV2QlAsSUFDRjhGLEdBQU8sU0FBUzdGLE9BQU9rRCxFQUFJNUMsTUFBTXpGLE9BQVMsRUFBSSxJQUFJbUYsT0FBT2tELEVBQUk1QyxPQUFTLEdBQUksT0FHNUV1RixHQUFPM0MsRUFBSTJDLElBRVA5RixJQUNGOEYsR0FBTyxLQUdMM0MsRUFBSS9DLFFBQ04wRixHQUFPLEtBR0wzQyxFQUFJN0MsV0FDTndGLEdBQU8sS0FHVCxJQUFJQyxFQUFZNUMsRUFBSTRDLFVBRWhCQSxHQUE2QixvQkFBVG5GLE9BQ3RCa0YsR0FBTyx1REFBdUQ3RixPQUFPVyxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVU4RSxNQUFlLFFBTXRJL0csRUFBUUMsa0JBQWtCNkcsRUFBSzJCLEVBQWN6SSxFQUFRQSxRQUN2RCxDQWlCTXNGLENBQU1tRCxFQUFjekksRUFBU21FLEVBQy9CLEVBQ0E3RSxPQUFRLFlBakJaLFNBQTRCbUosR0FFMUIsR0FBZ0MsT0FBNUJBLEVBQWFFLFdBQ2YsT0FBTyxFQUdURixFQUFhRSxXQUFXQyxZQUFZSCxFQUN0QyxDQVdNSSxDQUFtQkosRUFDckIsRUFFSixDLHVCQ3BEQWpJLEVBQU9DLFFBWlAsU0FBMkJxRyxFQUFLMkIsR0FDOUIsR0FBSUEsRUFBYUssV0FDZkwsRUFBYUssV0FBV0MsUUFBVWpDLE1BQzdCLENBQ0wsS0FBTzJCLEVBQWFPLFlBQ2xCUCxFQUFhRyxZQUFZSCxFQUFhTyxZQUd4Q1AsRUFBYUgsWUFBWTdLLFNBQVN3TCxlQUFlbkMsR0FDbkQsQ0FDRixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQmF0dGxlc2hpcC8uL3NyYy9nYW1lT2JqZWN0cy5qcyIsIndlYnBhY2s6Ly9CYXR0bGVzaGlwLy4vc3JjL3ZpZXcuanMiLCJ3ZWJwYWNrOi8vQmF0dGxlc2hpcC8uL3NyYy9jb250cm9sbGVyLmpzIiwid2VicGFjazovL0JhdHRsZXNoaXAvLi9zcmMvbW9kZWwuanMiLCJ3ZWJwYWNrOi8vQmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly9CYXR0bGVzaGlwLy4vc3JjL3Jlc2V0LmNzcyIsIndlYnBhY2s6Ly9CYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9CYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9CYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vQmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9wdWJzdWItanMvc3JjL3B1YnN1Yi5qcyIsIndlYnBhY2s6Ly9CYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL0JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL0JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vQmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9CYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vQmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNoaXAgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gIC8vIEFycmF5IGZ1bGwgd2l0aCBvbmVzLFxuICBjb25zdCBzaGlwU3F1YXJlcyA9IG5ldyBBcnJheShsZW5ndGgpLmZpbGwoMSk7XG4gIGxldCBzdW5rID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gaXNTdW5rKCkge1xuICAgIHN1bmsgPSBzaGlwU3F1YXJlcy5ldmVyeSgoaGl0KSA9PiBoaXQgPT09IDApO1xuICAgIHJldHVybiBzdW5rO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGVuZ3RoKCkge1xuICAgIHJldHVybiBsZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIaXQoaW5kZXgpIHtcbiAgICAvLyBPbmx5IGlmIGluZGV4IGlzIG5vdCBvdXQgb2YgYm91bmRzXG4gICAgaWYgKGluZGV4ID49IGxlbmd0aCB8fCBpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiBzaGlwU3F1YXJlcztcbiAgICB9XG4gICAgc2hpcFNxdWFyZXNbaW5kZXhdID0gMDtcbiAgICAvLyBpZiBldmVyeSBzcXVhcmUgaXMgaGl0LCBzdW5rIHJldHVybnMgdHJ1ZVxuICAgIHJldHVybiBzaGlwU3F1YXJlcztcbiAgfVxuXG4gIGNvbnN0IGdldFNxdWFyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNoaXBTcXVhcmVzO1xuICB9O1xuXG4gIHJldHVybiB7IGlzU3VuaywgZ2V0TGVuZ3RoLCBnZXRIaXQsIGdldFNxdWFyZXMgfTtcbn07XG5cbmNvbnN0IEdhbWVib2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hpY2ggc2hpcCBpcyB3aGVyZS5cbiAgLy8gMTBYMTAgMmQgYXJyYXkgb2YgZW1wdHkgb2JqZWN0c1xuICBjb25zdCBib2FyZFNxdWFyZXMgPSBBcnJheSgxMClcbiAgICAuZmlsbCgpXG4gICAgLm1hcCgoKSA9PiBbe30sIHt9LCB7fSwge30sIHt9LCB7fSwge30sIHt9LCB7fSwge31dKTtcblxuICBjb25zdCBnZXRDdXJyZW50Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGJvYXJkU3F1YXJlcztcbiAgfTtcblxuICBmdW5jdGlvbiBhcmVBbGxTaGlwc1N1bmsoKSB7XG4gICAgLy8gQ2hlY2tzIGlmIGV2ZXJ5IHNoaXAgaW4gdGhlIGJvYXJkIGlzIHN1bmtcbiAgICByZXR1cm4gYm9hcmRTcXVhcmVzLmV2ZXJ5KChyb3cpID0+XG4gICAgICByb3cuZXZlcnkoKHNxdWFyZSkgPT4ge1xuICAgICAgICBpZiAoc3F1YXJlLnNoaXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBzcXVhcmUuc2hpcC5pc1N1bmsoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQWxyZWFkeUhpdChzcXVhcmUpIHtcbiAgICBjb25zdCBpc0VtcHR5QW5kV2FzSGl0ID0gc3F1YXJlLmhpdCA9PT0gdHJ1ZTtcbiAgICBjb25zdCBpc1NoaXBBbmRXYXNIaXQgPVxuICAgICAgc3F1YXJlLnNoaXAgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgc3F1YXJlLnNoaXAuZ2V0U3F1YXJlcygpW3NxdWFyZS5zaGlwU3F1YXJlXSA9PT0gMDtcbiAgICByZXR1cm4gaXNFbXB0eUFuZFdhc0hpdCB8fCBpc1NoaXBBbmRXYXNIaXQ7XG4gIH1cblxuICBmdW5jdGlvbiBpc0Jsb2NrZWQobGVuZ3RoLCByb3dDb29yZCwgY29sdW1uQ29vcmQsIGRpcmVjdGlvbikge1xuICAgIGxldCBzdWJBcnJheTtcbiAgICBpZiAoZGlyZWN0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgLy8gZ2V0IHJvd1xuICAgICAgc3ViQXJyYXkgPSBib2FyZFNxdWFyZXNbcm93Q29vcmRdLnNsaWNlKFxuICAgICAgICBjb2x1bW5Db29yZCxcbiAgICAgICAgY29sdW1uQ29vcmQgKyBsZW5ndGhcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCBvbmx5IHJlbGV2YW50IHJvd3NcbiAgICAgIHN1YkFycmF5ID0gYm9hcmRTcXVhcmVzLmZpbHRlcihcbiAgICAgICAgKHJvdywgaSkgPT4gaSA+PSByb3dDb29yZCAmJiBpIDwgcm93Q29vcmQgKyBsZW5ndGhcbiAgICAgICk7XG4gICAgICAvLyBnZXQgb25seSByZWxldmFudCBjb2x1bW5zXG4gICAgICBzdWJBcnJheSA9IHN1YkFycmF5Lm1hcCgocm93KSA9PlxuICAgICAgICByb3cuZmlsdGVyKChjb2x1bW4sIGkpID0+IGkgPT09IGNvbHVtbkNvb3JkKVxuICAgICAgKTtcbiAgICAgIHN1YkFycmF5ID0gc3ViQXJyYXkuZmxhdCgpO1xuICAgIH1cbiAgICBjb25zdCBpc0FueU9jY3VwaWVkID0gc3ViQXJyYXkuc29tZSgoc3F1YXJlKSA9PlxuICAgICAgc3F1YXJlLmhhc093blByb3BlcnR5KFwic2hpcFwiKVxuICAgICk7XG4gICAgY29uc3QgaXNPdXRPZkJvdW5kcyA9IHN1YkFycmF5Lmxlbmd0aCAhPT0gbGVuZ3RoO1xuICAgIHJldHVybiBpc0FueU9jY3VwaWVkIHx8IGlzT3V0T2ZCb3VuZHM7XG4gIH1cblxuICBmdW5jdGlvbiBwbGFjZVNoaXAoc2hpcCwgcm93Q29vcmQsIGNvbHVtbkNvb3JkLCBkaXJlY3Rpb24gPSBcImhvcml6b250YWxcIikge1xuICAgIGNvbnN0IGxlbmd0aCA9IHNoaXAuZ2V0TGVuZ3RoKCk7XG4gICAgLy8gQ2hhbmdlIGJvYXJkIG9ubHkgaWYgc3BhY2UgaXMgbm90IG9jY3VwaWVkIG9yIGl0IGRvZXNuJ3QgZ28gb3V0IG9mIGJvdW5kc1xuICAgIGlmICghaXNCbG9ja2VkKGxlbmd0aCwgcm93Q29vcmQsIGNvbHVtbkNvb3JkLCBkaXJlY3Rpb24pKSB7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIGxpc3QgdGhhdCBrZWVwcyB0cmFjayBvZiBpbmRpY2VzIGNvcnJlc3BvbmRpbmcgaW4gc2hpcHNcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbk9iamVjdCA9IGJvYXJkU3F1YXJlc1tyb3dDb29yZF1baSArIGNvbHVtbkNvb3JkXTtcbiAgICAgICAgICBwb3NpdGlvbk9iamVjdC5zaGlwID0gc2hpcDtcbiAgICAgICAgICBwb3NpdGlvbk9iamVjdC5zaGlwU3F1YXJlID0gaTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwidmVydGljYWxcIikge1xuICAgICAgICAvLyBpZiBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uT2JqZWN0ID0gYm9hcmRTcXVhcmVzW3Jvd0Nvb3JkICsgaV1bY29sdW1uQ29vcmRdO1xuICAgICAgICAgIHBvc2l0aW9uT2JqZWN0LnNoaXAgPSBzaGlwO1xuICAgICAgICAgIHBvc2l0aW9uT2JqZWN0LnNoaXBTcXVhcmUgPSBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjZWl2ZUF0dGFjayhyb3dDb29yZCwgY29sdW1uQ29vcmQpIHtcbiAgICBpZiAoIWFyZUFsbFNoaXBzU3VuaygpKSB7XG4gICAgICBjb25zdCBjaG9zZW5TcXVhcmUgPSBib2FyZFNxdWFyZXNbcm93Q29vcmRdW2NvbHVtbkNvb3JkXTtcbiAgICAgIGlmIChpc0FscmVhZHlIaXQoY2hvc2VuU3F1YXJlKSkge1xuICAgICAgICByZXR1cm4gXCJDYW50IGhpdCB0aGUgc2FtZSBzcG90IHR3aWNlXCI7XG4gICAgICB9XG4gICAgICAvLyBJZiBzcXVhcmUgaXMgb2N1cHBpZWQsIHNlbmQgaGl0IHRvIGNvcnJlc3BvbmRpbmcgc2hpcFxuICAgICAgaWYgKGNob3NlblNxdWFyZS5oYXNPd25Qcm9wZXJ0eShcInNoaXBcIikpIHtcbiAgICAgICAgLy8gSWYgc2hpcCB3YXMgYWxscmVhZHkgaGl0XG4gICAgICAgIGNob3NlblNxdWFyZS5zaGlwLmdldEhpdChjaG9zZW5TcXVhcmUuc2hpcFNxdWFyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiBpdHMgZW1wdHksIHVwZGF0ZSB0aGUgYm9hcmRcbiAgICAgICAgY2hvc2VuU3F1YXJlLmhpdCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoYXJlQWxsU2hpcHNTdW5rKCkpIHtcbiAgICAgICAgLy8gaWYgc2hpcHMgd2VyZSBqdXN0IHN1bmsgdGhpcyB0dXJuXG4gICAgICAgIHJldHVybiBcIlNoaXBzIHdlcmUganVzdCBzdW5rXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hvc2VuU3F1YXJlO1xuICAgIH1cbiAgICByZXR1cm4gXCJTaGlwcyBhbHJlYWR5IHN1bmtcIjtcbiAgfVxuXG4gIHJldHVybiB7IGdldEN1cnJlbnRCb2FyZCwgcGxhY2VTaGlwLCByZWNlaXZlQXR0YWNrLCBhcmVBbGxTaGlwc1N1bmsgfTtcbn07XG5cbmZ1bmN0aW9uIFBsYXllcihnYW1lYm9hcmQsIG51bWJlcikge1xuICBmdW5jdGlvbiBwbGF5VHVybihyb3dDb29yZCwgY29sdW1uQ29vcmQpIHtcbiAgICByZXR1cm4gZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2socm93Q29vcmQsIGNvbHVtbkNvb3JkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE51bWJlcigpIHtcbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG4gIHJldHVybiB7IHBsYXlUdXJuLCBnZXROdW1iZXIgfTtcbn1cblxuZnVuY3Rpb24gQUlQbGF5ZXIoZ2FtZWJvYXJkLCBudW1iZXIpIHtcbiAgY29uc3QgcHJvdG90eXBlID0gUGxheWVyKGdhbWVib2FyZCwgbnVtYmVyKTtcblxuICBmdW5jdGlvbiBnZXRSYW5kb21OdW1iZXIobWF4ID0gOSkge1xuICAgIC8vIHJhbmRvbSBudW1iZXIgZnJvbSAxLTEwXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5UmFuZG9tKCkge1xuICAgIGxldCByYW5kb21Sb3cgPSBnZXRSYW5kb21OdW1iZXIoKTtcbiAgICBsZXQgcmFuZG9tQ29sdW1uID0gZ2V0UmFuZG9tTnVtYmVyKCk7XG5cbiAgICBjb25zdCBjdXJyZW50Qm9hcmQgPSBnYW1lYm9hcmQuZ2V0Q3VycmVudEJvYXJkKCk7XG4gICAgLy8gSWYgdGhvc2UgY29vcmRzIGFyZSBvY2N1cGllZCBjaG9vc2UgYW5vdGhlcnNcbiAgICB3aGlsZSAoXG4gICAgICBjdXJyZW50Qm9hcmRbcmFuZG9tUm93XVtyYW5kb21Db2x1bW5dLmhhc093blByb3BlcnR5KFwiaGl0XCIpIHx8XG4gICAgICBjdXJyZW50Qm9hcmRbcmFuZG9tUm93XVtyYW5kb21Db2x1bW5dLmhhc093blByb3BlcnR5KFwic2hpcFwiKVxuICAgICkge1xuICAgICAgcmFuZG9tUm93ID0gZ2V0UmFuZG9tTnVtYmVyKCk7XG4gICAgICByYW5kb21Db2x1bW4gPSBnZXRSYW5kb21OdW1iZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2socmFuZG9tUm93LCByYW5kb21Db2x1bW4pO1xuICB9XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHByb3RvdHlwZSwgeyBwbGF5UmFuZG9tIH0pO1xufVxuXG5leHBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciwgQUlQbGF5ZXIgfTtcbiIsImltcG9ydCBQdWJTdWIgZnJvbSBcInB1YnN1Yi1qc1wiO1xuaW1wb3J0IHsgR2FtZWJvYXJkIH0gZnJvbSBcIi4vZ2FtZU9iamVjdHNcIjtcblxuY29uc3QgcGxheWVyMURpdkJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGF5ZXIxLWJvYXJkXCIpO1xuY29uc3QgcGxheWVyMkRpdkJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGF5ZXIyLWJvYXJkXCIpO1xuXG5jb25zdCBwbGF5ZXIxQm9hcmQgPSBHYW1lYm9hcmQoKTtcbmNvbnN0IHBsYXllcjJCb2FyZCA9IEdhbWVib2FyZCgpO1xuXG5mdW5jdGlvbiByZW5kZXJOZXdCb2FyZChwYXJlbnREaXYsIGJvYXJkKSB7XG4gIC8vIFJlbmRlclNxdWFyZXNcbiAgYm9hcmQuZ2V0Q3VycmVudEJvYXJkKCkuZm9yRWFjaCgocm93LCBpKSA9PiB7XG4gICAgLy8gY3JlYXRlIHJvd1xuICAgIGNvbnN0IG5ld1JvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3Um93LmNsYXNzTGlzdC5hZGQoXCJyb3dcIik7XG4gICAgbmV3Um93LnNldEF0dHJpYnV0ZShcImRhdGFcIiwgaSk7XG4gICAgcGFyZW50RGl2LmFwcGVuZChuZXdSb3cpO1xuICAgIHJvdy5mb3JFYWNoKChzcXVhcmUsIGopID0+IHtcbiAgICAgIC8vIGNyZWF0ZSBzcXVhcmVzXG4gICAgICBjb25zdCBuZXdTcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgbmV3U3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJzcXVhcmVcIik7XG4gICAgICBuZXdSb3cuc2V0QXR0cmlidXRlKFwiZGF0YVwiLCBqKTtcbiAgICAgIG5ld1Jvdy5hcHBlbmQobmV3U3F1YXJlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBsYXllcjFCb2FyZDtcbn1cblxuZnVuY3Rpb24gc3RhcnRCb2FyZHMoKSB7XG4gIHJlbmRlck5ld0JvYXJkKHBsYXllcjFEaXZCb2FyZCwgcGxheWVyMUJvYXJkKTtcbiAgcmVuZGVyTmV3Qm9hcmQocGxheWVyMkRpdkJvYXJkLCBwbGF5ZXIyQm9hcmQpO1xufVxuXG5QdWJTdWIuc3Vic2NyaWJlKFwid2luZG93LWxvYWRlZFwiLCBzdGFydEJvYXJkcyk7XG5leHBvcnQgeyByZW5kZXJOZXdCb2FyZCB9O1xuIiwiaW1wb3J0IFB1YlN1YiBmcm9tIFwicHVic3ViLWpzXCI7XG5cbmNvbnN0IHBvcHVwU2hpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3NoaXBzIC5zaGlwXCIpO1xuY29uc3QgcG9wdXBCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wLXVwIC5ib2FyZFwiKTtcblxuZnVuY3Rpb24gYWRkU2hpcChzaXplLCBjb29yZFJvdywgY29vcmRDb2x1bW4sIGRpcmVjdGlvbikge1xuICAvLyB2aWV3LnJlbmRlclNoaXAoc2l6ZSwgY29vcmRSb3csIGNvb3JkQ29sdW1uKVxufVxuY29uc3QgYSA9IDE7XG5cbnBvcHVwU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICBzaGlwLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGUpID0+IHtcbiAgICAvLyBncmV5IG91dCBzaGlwIHdoZW4gZHJhZ2dpbmdcbiAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcImRyYWdnaW5nXCIpO1xuICAgIGUuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpO1xuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIGUudGFyZ2V0LmlkKTtcbiAgfSk7XG4gIC8vIHJldHVybiBvcmlnaW5hbCBjb2xvciBpZiBpdCB3YXNuJ3QgZHJvcHBlZFxuICBzaGlwLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW5kXCIsIChlKSA9PiB7XG4gICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnZ2luZ1wiKTtcbiAgfSk7XG59KTtcblxuLy8gTWFrZSBlYWNoIHNxdWFyZSBpbiBib2FyZCBkcm9wYWJsZVxuQXJyYXkuZnJvbShwb3B1cEJvYXJkLmNoaWxkcmVuKS5mb3JFYWNoKChyb3cpID0+IHtcbiAgQXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pLmZvckVhY2goKHNxdWFyZSkgPT4ge1xuICAgIHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgaWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9wbGFpblwiKTtcbiAgICAgIGNvbnN0IGRyYWdnZWRTaGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgY29uc3Qgc2hpcFNpemUgPSBkcmFnZ2VkU2hpcC5nZXRBdHRyaWJ1dGUoXCJkYXRhXCIpO1xuICAgICAgLy8gcmVtb3ZlIGZyb20gI3NoaXBzXG4gICAgICBkcmFnZ2VkU2hpcC5yZW1vdmUoKTtcblxuICAgICAgLy8gYWRkU2hpcChzaXplLCBjb29yZFJvdywgY29vcmRDb2x1bW4sICdob3Jpem9udGFsJyk7XG4gICAgfSk7XG4gICAgc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgfSk7XG59KTtcbiIsImltcG9ydCBQdWJTdWIgZnJvbSBcInB1YnN1Yi1qc1wiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGV2ZW50KSA9PiB7XG4gIFB1YlN1Yi5wdWJsaXNoKFwid2luZG93LWxvYWRlZFwiKTtcbn0pO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIvKiBodHRwOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdG9vbHMvY3NzL3Jlc2V0LyBcXG4gICB2Mi4wIHwgMjAxMTAxMjZcXG4gICBMaWNlbnNlOiBub25lIChwdWJsaWMgZG9tYWluKVxcbiovXFxuOnJvb3Qge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuaHRtbCxcXG5ib2R5LFxcbmRpdixcXG5zcGFuLFxcbmFwcGxldCxcXG5vYmplY3QsXFxuaWZyYW1lLFxcbmgxLFxcbmgyLFxcbmgzLFxcbmg0LFxcbmg1LFxcbmg2LFxcbnAsXFxuYmxvY2txdW90ZSxcXG5wcmUsXFxuYSxcXG5hYmJyLFxcbmFjcm9ueW0sXFxuYWRkcmVzcyxcXG5iaWcsXFxuY2l0ZSxcXG5jb2RlLFxcbmRlbCxcXG5kZm4sXFxuZW0sXFxuaW1nLFxcbmlucyxcXG5rYmQsXFxucSxcXG5zLFxcbnNhbXAsXFxuc21hbGwsXFxuc3RyaWtlLFxcbnN0cm9uZyxcXG5zdWIsXFxuc3VwLFxcbnR0LFxcbnZhcixcXG5iLFxcbnUsXFxuaSxcXG5jZW50ZXIsXFxuZGwsXFxuZHQsXFxuZGQsXFxub2wsXFxudWwsXFxubGksXFxuZmllbGRzZXQsXFxuZm9ybSxcXG5sYWJlbCxcXG5sZWdlbmQsXFxudGFibGUsXFxuY2FwdGlvbixcXG50Ym9keSxcXG50Zm9vdCxcXG50aGVhZCxcXG50cixcXG50aCxcXG50ZCxcXG5hcnRpY2xlLFxcbmFzaWRlLFxcbmNhbnZhcyxcXG5kZXRhaWxzLFxcbmVtYmVkLFxcbmZpZ3VyZSxcXG5maWdjYXB0aW9uLFxcbmZvb3RlcixcXG5oZWFkZXIsXFxuaGdyb3VwLFxcbm1lbnUsXFxubmF2LFxcbm91dHB1dCxcXG5ydWJ5LFxcbnNlY3Rpb24sXFxuc3VtbWFyeSxcXG50aW1lLFxcbm1hcmssXFxuYXVkaW8sXFxudmlkZW8ge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJvcmRlcjogMDtcXG4gIGZvbnQtc2l6ZTogMTAwJTtcXG4gIGZvbnQ6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxufVxcbi8qIEhUTUw1IGRpc3BsYXktcm9sZSByZXNldCBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cXG5hcnRpY2xlLFxcbmFzaWRlLFxcbmRldGFpbHMsXFxuZmlnY2FwdGlvbixcXG5maWd1cmUsXFxuZm9vdGVyLFxcbmhlYWRlcixcXG5oZ3JvdXAsXFxubWVudSxcXG5uYXYsXFxuc2VjdGlvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuYm9keSB7XFxuICBsaW5lLWhlaWdodDogMTtcXG59XFxub2wsXFxudWwge1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG59XFxuYmxvY2txdW90ZSxcXG5xIHtcXG4gIHF1b3Rlczogbm9uZTtcXG59XFxuYmxvY2txdW90ZTpiZWZvcmUsXFxuYmxvY2txdW90ZTphZnRlcixcXG5xOmJlZm9yZSxcXG5xOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgY29udGVudDogbm9uZTtcXG59XFxudGFibGUge1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG4gIGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvcmVzZXQuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOzs7Q0FHQztBQUNEO0VBQ0Usc0JBQXNCO0FBQ3hCOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFpRkUsU0FBUztFQUNULFVBQVU7RUFDVixTQUFTO0VBQ1QsZUFBZTtFQUNmLGFBQWE7RUFDYix3QkFBd0I7QUFDMUI7QUFDQSxnREFBZ0Q7QUFDaEQ7Ozs7Ozs7Ozs7O0VBV0UsY0FBYztBQUNoQjtBQUNBO0VBQ0UsY0FBYztBQUNoQjtBQUNBOztFQUVFLGdCQUFnQjtBQUNsQjtBQUNBOztFQUVFLFlBQVk7QUFDZDtBQUNBOzs7O0VBSUUsV0FBVztFQUNYLGFBQWE7QUFDZjtBQUNBO0VBQ0UseUJBQXlCO0VBQ3pCLGlCQUFpQjtBQUNuQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKiBodHRwOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdG9vbHMvY3NzL3Jlc2V0LyBcXG4gICB2Mi4wIHwgMjAxMTAxMjZcXG4gICBMaWNlbnNlOiBub25lIChwdWJsaWMgZG9tYWluKVxcbiovXFxuOnJvb3Qge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuaHRtbCxcXG5ib2R5LFxcbmRpdixcXG5zcGFuLFxcbmFwcGxldCxcXG5vYmplY3QsXFxuaWZyYW1lLFxcbmgxLFxcbmgyLFxcbmgzLFxcbmg0LFxcbmg1LFxcbmg2LFxcbnAsXFxuYmxvY2txdW90ZSxcXG5wcmUsXFxuYSxcXG5hYmJyLFxcbmFjcm9ueW0sXFxuYWRkcmVzcyxcXG5iaWcsXFxuY2l0ZSxcXG5jb2RlLFxcbmRlbCxcXG5kZm4sXFxuZW0sXFxuaW1nLFxcbmlucyxcXG5rYmQsXFxucSxcXG5zLFxcbnNhbXAsXFxuc21hbGwsXFxuc3RyaWtlLFxcbnN0cm9uZyxcXG5zdWIsXFxuc3VwLFxcbnR0LFxcbnZhcixcXG5iLFxcbnUsXFxuaSxcXG5jZW50ZXIsXFxuZGwsXFxuZHQsXFxuZGQsXFxub2wsXFxudWwsXFxubGksXFxuZmllbGRzZXQsXFxuZm9ybSxcXG5sYWJlbCxcXG5sZWdlbmQsXFxudGFibGUsXFxuY2FwdGlvbixcXG50Ym9keSxcXG50Zm9vdCxcXG50aGVhZCxcXG50cixcXG50aCxcXG50ZCxcXG5hcnRpY2xlLFxcbmFzaWRlLFxcbmNhbnZhcyxcXG5kZXRhaWxzLFxcbmVtYmVkLFxcbmZpZ3VyZSxcXG5maWdjYXB0aW9uLFxcbmZvb3RlcixcXG5oZWFkZXIsXFxuaGdyb3VwLFxcbm1lbnUsXFxubmF2LFxcbm91dHB1dCxcXG5ydWJ5LFxcbnNlY3Rpb24sXFxuc3VtbWFyeSxcXG50aW1lLFxcbm1hcmssXFxuYXVkaW8sXFxudmlkZW8ge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJvcmRlcjogMDtcXG4gIGZvbnQtc2l6ZTogMTAwJTtcXG4gIGZvbnQ6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxufVxcbi8qIEhUTUw1IGRpc3BsYXktcm9sZSByZXNldCBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cXG5hcnRpY2xlLFxcbmFzaWRlLFxcbmRldGFpbHMsXFxuZmlnY2FwdGlvbixcXG5maWd1cmUsXFxuZm9vdGVyLFxcbmhlYWRlcixcXG5oZ3JvdXAsXFxubWVudSxcXG5uYXYsXFxuc2VjdGlvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuYm9keSB7XFxuICBsaW5lLWhlaWdodDogMTtcXG59XFxub2wsXFxudWwge1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG59XFxuYmxvY2txdW90ZSxcXG5xIHtcXG4gIHF1b3Rlczogbm9uZTtcXG59XFxuYmxvY2txdW90ZTpiZWZvcmUsXFxuYmxvY2txdW90ZTphZnRlcixcXG5xOmJlZm9yZSxcXG5xOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgY29udGVudDogbm9uZTtcXG59XFxudGFibGUge1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG4gIGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fIGZyb20gXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vcmVzZXQuY3NzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG86d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCk7XCJdKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIjpyb290IHtcXG4gIC0tYm9hcmQtZ2FwOiAycHg7XFxuICAtLWJvYXJkLXNpemU6IGNhbGMoNDMwcHggKyBjYWxjKHZhcigtLWJvYXJkLWdhcCkgKiAxMCkpO1xcbiAgLS1jb2xvci13YXRlcjogcmdiKDEzNSwgMjE3LCAyMTQpO1xcbiAgLS1jb2xvci13YXRlci1kYXJrOiByZ2IoNTYsIDEyNywgMTI1KTtcXG4gIC0tY29sb3ItYmFja2dyb3VuZDogIzI3MjcyYTtcXG4gIC0tY29sb3ItbGlnaHQ6ICNmNGY0ZjU7XFxuICAtLWNvbG9yLW1lZGl1bS1saWdodDogI2ExYTFhYTtcXG4gIC0tY29sb3ItbWVkaXVtLWRhcms6ICM1MjUyNWI7XFxuICAtLWNvbG9yLWRhcms6ICMzZjNmNDY7XFxuICAtLWNvbG9yLWNvbXBsZW1lbnRhcnkxLWxpZ2h0OiByZ2IoMTYyLCAyNDIsIDE0NCk7XFxuICAtLWNvbG9yLWNvbXBsZW1lbnRhcnkxLWRhcms6IHJnYigxNCwgNjAsIDEzKTtcXG4gIC0tY29sb3ItY29tcGxlbWVudGFyeTItbGlnaHQ6IHJnYigyNDUsIDE3NiwgMTE4KTtcXG4gIC0tY29sb3ItY29tcGxlbWVudGFyeTItZGFyazogcmdiKDEzMSwgNjMsIDE0KTtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUm9ib3RvXFxcIiwgc2Fucy1zZXJpZjtcXG59XFxuXFxuLyogKiB7XFxuICAgIG91dGxpbmU6IGRhc2hlZCByZWQ7XFxufSAgKi9cXG5cXG5ib2R5IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogMTAwdmg7XFxuICB3aWR0aDogMTAwdnc7XFxuICBjb2xvcjogdmFyKC0tY29sb3ItbGlnaHQpO1xcbn1cXG5cXG4jZ2FtZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtcXG4gIGhlaWdodDogMTAwdmg7XFxuICB3aWR0aDogMTAwdnc7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxMDBweCAxZnIgNTBweDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5pbmFjdGl2ZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogLTEwMCU7XFxufVxcblxcbmhlYWRlciB7XFxufVxcblxcbm1haW4ge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA1MHB4IDFmcjtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XFxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxuICBnYXA6IGF1dG87XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG5tYWluID4gaDEge1xcbiAgY29sb3I6IHZhcigtLWNvbG9yLWxpZ2h0KTtcXG4gIGdyaWQtcm93OiAxIC8gMjtcXG59XFxuXFxuLmJvYXJkIHtcXG4gIHdpZHRoOiB2YXIoLS1ib2FyZC1zaXplKTtcXG4gIGhlaWdodDogdmFyKC0tYm9hcmQtc2l6ZSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIGdhcDogdmFyKC0tYm9hcmQtZ2FwKTtcXG59XFxuXFxuLnJvdyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgZ2FwOiB2YXIoLS1ib2FyZC1nYXApO1xcbn1cXG5cXG4uc3F1YXJlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXdhdGVyKTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uc3F1YXJlOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXdhdGVyLWRhcmspO1xcbn1cXG5cXG5mb290ZXIge1xcbiAgbWFyZ2luLXRvcDogYXV0bztcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBoZWlnaHQ6IDUwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGdhcDogMnZ3O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYmFja2dyb3VuZCk7XFxuICBjb2xvcjogd2hpdGU7XFxuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXFwiU2Vnb2UgVUlcXFwiLCBSb2JvdG8sIEhlbHZldGljYSxcXG4gICAgQXJpYWwsIHNhbnMtc2VyaWYsIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiO1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxufVxcblxcbiNnaXRodWItbG9nbyB7XFxuICBoZWlnaHQ6IDMwcHg7XFxufVxcblxcbiNwb3AtdXAge1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWJhY2tncm91bmQpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciA1MHB4IDhmcjtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMmZyIDFmcjtcXG4gIGdyaWQtdGVtcGxhdGUtYXJlYXM6XFxuICAgIFxcXCJ0aXRsZSB0aXRsZVxcXCJcXG4gICAgXFxcImRlc2NyaXB0aW9uIGRlc2NyaXB0aW9uXFxcIlxcbiAgICBcXFwiYm9hcmQgc2hpcHNcXFwiO1xcbn1cXG5cXG4jcG9wLXVwLmluYWN0aXZlIHtcXG4gIGxlZnQ6IC0xMDAlO1xcbn1cXG4jcG9wLXVwIGFydGljbGUge1xcbiAgZ3JpZC1hcmVhOiB0aXRsZTtcXG59XFxuXFxuI3BvcC11cCBoMyB7XFxuICBncmlkLWFyZWE6IGRlc2NyaXB0aW9uO1xcbn1cXG5cXG4jcG9wLXVwIC5ib2FyZCB7XFxuICBncmlkLWFyZWE6IGJvYXJkO1xcbn1cXG5cXG4jc2hpcHMge1xcbiAgZ3JpZC1hcmVhOiBzaGlwcztcXG59XFxuXFxuI3BvcC11cCBhcnRpY2xlIHtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcXG4gICAgdG8gYm90dG9tLFxcbiAgICByZ2IoMTM1LCAxMzUsIDIzNiksXFxuICAgIHZhcigtLWNvbG9yLXdhdGVyKVxcbiAgKTtcXG4gIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0O1xcbiAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4jdGl0bGUge1xcbiAgZm9udC1zaXplOiAzcmVtO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICBsZXR0ZXItc3BhY2luZzogMC4zcmVtO1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuXFxuI3NoaXBzIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1pdGVtczogc3RhcnQ7XFxufVxcblxcbiNzaGlwcyAuc2hpcCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiB2YXIoLS1ib2FyZC1nYXApO1xcbn1cXG5cXG4uc2hpcC5kcmFnZ2luZyB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbiNzaGlwcyA+IC5tdWx0aXBsZS1zaGlwcyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiA1MHB4O1xcbn1cXG4uc2hpcC1zcXVhcmUge1xcbiAgd2lkdGg6IGNhbGModmFyKC0tYm9hcmQtc2l6ZSkgLyAxMCk7XFxuICBoZWlnaHQ6IGNhbGModmFyKC0tYm9hcmQtc2l6ZSkgLyAxMCk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk1MHB4KSB7XFxuICBtYWluIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcXG4gICAgZ2FwOiAzMHB4O1xcbiAgfVxcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUlBO0VBQ0UsZ0JBQWdCO0VBQ2hCLHVEQUF1RDtFQUN2RCxpQ0FBaUM7RUFDakMscUNBQXFDO0VBQ3JDLDJCQUEyQjtFQUMzQixzQkFBc0I7RUFDdEIsNkJBQTZCO0VBQzdCLDRCQUE0QjtFQUM1QixxQkFBcUI7RUFDckIsZ0RBQWdEO0VBQ2hELDRDQUE0QztFQUM1QyxnREFBZ0Q7RUFDaEQsNkNBQTZDO0VBQzdDLGlDQUFpQztBQUNuQzs7QUFFQTs7SUFFSTs7QUFFSjtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsWUFBWTtFQUNaLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlDQUF5QztFQUN6QyxhQUFhO0VBQ2IsWUFBWTtFQUNaLGFBQWE7RUFDYixrQ0FBa0M7RUFDbEMsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7QUFDZDs7QUFFQTtBQUNBOztBQUVBO0VBQ0UsV0FBVztFQUNYLGFBQWE7RUFDYiw0QkFBNEI7RUFDNUIscUNBQXFDO0VBQ3JDLHFCQUFxQjtFQUNyQixTQUFTO0VBQ1QsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx3QkFBd0I7RUFDeEIseUJBQXlCO0VBQ3pCLHlDQUF5QztFQUN6QyxhQUFhO0VBQ2IsbUNBQW1DO0VBQ25DLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixZQUFZO0VBQ1oscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0Usb0NBQW9DO0VBQ3BDLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5Q0FBeUM7QUFDM0M7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLFdBQVc7RUFDWCxRQUFRO0VBQ1IseUNBQXlDO0VBQ3pDLFlBQVk7RUFDWjsrRUFDNkU7RUFDN0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYix5Q0FBeUM7RUFDekMsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFTO0VBQ1QsZ0NBQWdDO0VBQ2hDLGFBQWE7RUFDYixxQkFBcUI7RUFDckIsZ0NBQWdDO0VBQ2hDLDhCQUE4QjtFQUM5Qjs7O2lCQUdlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztBQUNiO0FBQ0E7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRTs7OztHQUlDO0VBQ0QsNkJBQTZCO0VBQzdCLG9DQUFvQztFQUNwQyxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLHNCQUFzQjtFQUN0QixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsU0FBUztBQUNYO0FBQ0E7RUFDRSxtQ0FBbUM7RUFDbkMsb0NBQW9DO0VBQ3BDLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osNkJBQTZCO0lBQzdCLFNBQVM7RUFDWDtBQUNGXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBpbXBvcnQgXFxcIi4vcmVzZXQuY3NzXFxcIjtcXG5cXG5AaW1wb3J0IHVybChcXFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG86d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcFxcXCIpO1xcblxcbjpyb290IHtcXG4gIC0tYm9hcmQtZ2FwOiAycHg7XFxuICAtLWJvYXJkLXNpemU6IGNhbGMoNDMwcHggKyBjYWxjKHZhcigtLWJvYXJkLWdhcCkgKiAxMCkpO1xcbiAgLS1jb2xvci13YXRlcjogcmdiKDEzNSwgMjE3LCAyMTQpO1xcbiAgLS1jb2xvci13YXRlci1kYXJrOiByZ2IoNTYsIDEyNywgMTI1KTtcXG4gIC0tY29sb3ItYmFja2dyb3VuZDogIzI3MjcyYTtcXG4gIC0tY29sb3ItbGlnaHQ6ICNmNGY0ZjU7XFxuICAtLWNvbG9yLW1lZGl1bS1saWdodDogI2ExYTFhYTtcXG4gIC0tY29sb3ItbWVkaXVtLWRhcms6ICM1MjUyNWI7XFxuICAtLWNvbG9yLWRhcms6ICMzZjNmNDY7XFxuICAtLWNvbG9yLWNvbXBsZW1lbnRhcnkxLWxpZ2h0OiByZ2IoMTYyLCAyNDIsIDE0NCk7XFxuICAtLWNvbG9yLWNvbXBsZW1lbnRhcnkxLWRhcms6IHJnYigxNCwgNjAsIDEzKTtcXG4gIC0tY29sb3ItY29tcGxlbWVudGFyeTItbGlnaHQ6IHJnYigyNDUsIDE3NiwgMTE4KTtcXG4gIC0tY29sb3ItY29tcGxlbWVudGFyeTItZGFyazogcmdiKDEzMSwgNjMsIDE0KTtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUm9ib3RvXFxcIiwgc2Fucy1zZXJpZjtcXG59XFxuXFxuLyogKiB7XFxuICAgIG91dGxpbmU6IGRhc2hlZCByZWQ7XFxufSAgKi9cXG5cXG5ib2R5IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogMTAwdmg7XFxuICB3aWR0aDogMTAwdnc7XFxuICBjb2xvcjogdmFyKC0tY29sb3ItbGlnaHQpO1xcbn1cXG5cXG4jZ2FtZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtcXG4gIGhlaWdodDogMTAwdmg7XFxuICB3aWR0aDogMTAwdnc7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxMDBweCAxZnIgNTBweDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5pbmFjdGl2ZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogLTEwMCU7XFxufVxcblxcbmhlYWRlciB7XFxufVxcblxcbm1haW4ge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA1MHB4IDFmcjtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XFxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxuICBnYXA6IGF1dG87XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG5tYWluID4gaDEge1xcbiAgY29sb3I6IHZhcigtLWNvbG9yLWxpZ2h0KTtcXG4gIGdyaWQtcm93OiAxIC8gMjtcXG59XFxuXFxuLmJvYXJkIHtcXG4gIHdpZHRoOiB2YXIoLS1ib2FyZC1zaXplKTtcXG4gIGhlaWdodDogdmFyKC0tYm9hcmQtc2l6ZSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIGdhcDogdmFyKC0tYm9hcmQtZ2FwKTtcXG59XFxuXFxuLnJvdyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgZ2FwOiB2YXIoLS1ib2FyZC1nYXApO1xcbn1cXG5cXG4uc3F1YXJlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXdhdGVyKTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uc3F1YXJlOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXdhdGVyLWRhcmspO1xcbn1cXG5cXG5mb290ZXIge1xcbiAgbWFyZ2luLXRvcDogYXV0bztcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBoZWlnaHQ6IDUwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGdhcDogMnZ3O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYmFja2dyb3VuZCk7XFxuICBjb2xvcjogd2hpdGU7XFxuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXFwiU2Vnb2UgVUlcXFwiLCBSb2JvdG8sIEhlbHZldGljYSxcXG4gICAgQXJpYWwsIHNhbnMtc2VyaWYsIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiO1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxufVxcblxcbiNnaXRodWItbG9nbyB7XFxuICBoZWlnaHQ6IDMwcHg7XFxufVxcblxcbiNwb3AtdXAge1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWJhY2tncm91bmQpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciA1MHB4IDhmcjtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMmZyIDFmcjtcXG4gIGdyaWQtdGVtcGxhdGUtYXJlYXM6XFxuICAgIFxcXCJ0aXRsZSB0aXRsZVxcXCJcXG4gICAgXFxcImRlc2NyaXB0aW9uIGRlc2NyaXB0aW9uXFxcIlxcbiAgICBcXFwiYm9hcmQgc2hpcHNcXFwiO1xcbn1cXG5cXG4jcG9wLXVwLmluYWN0aXZlIHtcXG4gIGxlZnQ6IC0xMDAlO1xcbn1cXG4jcG9wLXVwIGFydGljbGUge1xcbiAgZ3JpZC1hcmVhOiB0aXRsZTtcXG59XFxuXFxuI3BvcC11cCBoMyB7XFxuICBncmlkLWFyZWE6IGRlc2NyaXB0aW9uO1xcbn1cXG5cXG4jcG9wLXVwIC5ib2FyZCB7XFxuICBncmlkLWFyZWE6IGJvYXJkO1xcbn1cXG5cXG4jc2hpcHMge1xcbiAgZ3JpZC1hcmVhOiBzaGlwcztcXG59XFxuXFxuI3BvcC11cCBhcnRpY2xlIHtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcXG4gICAgdG8gYm90dG9tLFxcbiAgICByZ2IoMTM1LCAxMzUsIDIzNiksXFxuICAgIHZhcigtLWNvbG9yLXdhdGVyKVxcbiAgKTtcXG4gIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0O1xcbiAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4jdGl0bGUge1xcbiAgZm9udC1zaXplOiAzcmVtO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICBsZXR0ZXItc3BhY2luZzogMC4zcmVtO1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuXFxuI3NoaXBzIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1pdGVtczogc3RhcnQ7XFxufVxcblxcbiNzaGlwcyAuc2hpcCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiB2YXIoLS1ib2FyZC1nYXApO1xcbn1cXG5cXG4uc2hpcC5kcmFnZ2luZyB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbiNzaGlwcyA+IC5tdWx0aXBsZS1zaGlwcyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiA1MHB4O1xcbn1cXG4uc2hpcC1zcXVhcmUge1xcbiAgd2lkdGg6IGNhbGModmFyKC0tYm9hcmQtc2l6ZSkgLyAxMCk7XFxuICBoZWlnaHQ6IGNhbGModmFyKC0tYm9hcmQtc2l6ZSkgLyAxMCk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk1MHB4KSB7XFxuICBtYWluIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcXG4gICAgZ2FwOiAzMHB4O1xcbiAgfVxcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsMjAxMSwyMDEyLDIwMTMsMjAxNCBNb3JnYW4gUm9kZXJpY2sgaHR0cDovL3JvZGVyaWNrLmRrXG4gKiBMaWNlbnNlOiBNSVQgLSBodHRwOi8vbXJnbnJkcmNrLm1pdC1saWNlbnNlLm9yZ1xuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tcm9kZXJpY2svUHViU3ViSlNcbiAqL1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3Rvcnkpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBQdWJTdWIgPSB7fTtcblxuICAgIGlmIChyb290LlB1YlN1Yikge1xuICAgICAgICBQdWJTdWIgPSByb290LlB1YlN1YjtcbiAgICAgICAgY29uc29sZS53YXJuKFwiUHViU3ViIGFscmVhZHkgbG9hZGVkLCB1c2luZyBleGlzdGluZyB2ZXJzaW9uXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuUHViU3ViID0gUHViU3ViO1xuICAgICAgICBmYWN0b3J5KFB1YlN1Yik7XG4gICAgfVxuICAgIC8vIENvbW1vbkpTIGFuZCBOb2RlLmpzIG1vZHVsZSBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jyl7XG4gICAgICAgIGlmIChtb2R1bGUgIT09IHVuZGVmaW5lZCAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gUHViU3ViOyAvLyBOb2RlLmpzIHNwZWNpZmljIGBtb2R1bGUuZXhwb3J0c2BcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRzLlB1YlN1YiA9IFB1YlN1YjsgLy8gQ29tbW9uSlMgbW9kdWxlIDEuMS4xIHNwZWNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gUHViU3ViOyAvLyBDb21tb25KU1xuICAgIH1cbiAgICAvLyBBTUQgc3VwcG9ydFxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKXtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gUHViU3ViOyB9KTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bmRlZiAqL1xuICAgIH1cblxufSgoIHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdyApIHx8IHRoaXMsIGZ1bmN0aW9uIChQdWJTdWIpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBtZXNzYWdlcyA9IHt9LFxuICAgICAgICBsYXN0VWlkID0gLTEsXG4gICAgICAgIEFMTF9TVUJTQ1JJQklOR19NU0cgPSAnKic7XG5cbiAgICBmdW5jdGlvbiBoYXNLZXlzKG9iail7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gb2JqKXtcbiAgICAgICAgICAgIGlmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSApe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB0aHJvd3MgdGhlIHBhc3NlZCBleGNlcHRpb24sIGZvciB1c2UgYXMgYXJndW1lbnQgZm9yIHNldFRpbWVvdXRcbiAgICAgKiBAYWxpYXMgdGhyb3dFeGNlcHRpb25cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBleCBBbiBFcnJvciBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbiggZXggKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlVGhyb3dFeGNlcHRpb24oKXtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxTdWJzY3JpYmVyV2l0aERlbGF5ZWRFeGNlcHRpb25zKCBzdWJzY3JpYmVyLCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyKCBtZXNzYWdlLCBkYXRhICk7XG4gICAgICAgIH0gY2F0Y2goIGV4ICl7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCB0aHJvd0V4Y2VwdGlvbiggZXggKSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsU3Vic2NyaWJlcldpdGhJbW1lZGlhdGVFeGNlcHRpb25zKCBzdWJzY3JpYmVyLCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHN1YnNjcmliZXIoIG1lc3NhZ2UsIGRhdGEgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWxpdmVyTWVzc2FnZSggb3JpZ2luYWxNZXNzYWdlLCBtYXRjaGVkTWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApe1xuICAgICAgICB2YXIgc3Vic2NyaWJlcnMgPSBtZXNzYWdlc1ttYXRjaGVkTWVzc2FnZV0sXG4gICAgICAgICAgICBjYWxsU3Vic2NyaWJlciA9IGltbWVkaWF0ZUV4Y2VwdGlvbnMgPyBjYWxsU3Vic2NyaWJlcldpdGhJbW1lZGlhdGVFeGNlcHRpb25zIDogY2FsbFN1YnNjcmliZXJXaXRoRGVsYXllZEV4Y2VwdGlvbnMsXG4gICAgICAgICAgICBzO1xuXG4gICAgICAgIGlmICggIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggbWVzc2FnZXMsIG1hdGNoZWRNZXNzYWdlICkgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHMgaW4gc3Vic2NyaWJlcnMpe1xuICAgICAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3Vic2NyaWJlcnMsIHMpKXtcbiAgICAgICAgICAgICAgICBjYWxsU3Vic2NyaWJlciggc3Vic2NyaWJlcnNbc10sIG9yaWdpbmFsTWVzc2FnZSwgZGF0YSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGVsaXZlcnlGdW5jdGlvbiggbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVsaXZlck5hbWVzcGFjZWQoKXtcbiAgICAgICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoICcuJyApO1xuXG4gICAgICAgICAgICAvLyBkZWxpdmVyIHRoZSBtZXNzYWdlIGFzIGl0IGlzIG5vd1xuICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UobWVzc2FnZSwgbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIHRyaW0gdGhlIGhpZXJhcmNoeSBhbmQgZGVsaXZlciBtZXNzYWdlIHRvIGVhY2ggbGV2ZWxcbiAgICAgICAgICAgIHdoaWxlKCBwb3NpdGlvbiAhPT0gLTEgKXtcbiAgICAgICAgICAgICAgICB0b3BpYyA9IHRvcGljLnN1YnN0ciggMCwgcG9zaXRpb24gKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UoIG1lc3NhZ2UsIHRvcGljLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGl2ZXJNZXNzYWdlKG1lc3NhZ2UsIEFMTF9TVUJTQ1JJQklOR19NU0csIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc0RpcmVjdFN1YnNjcmliZXJzRm9yKCBtZXNzYWdlICkge1xuICAgICAgICB2YXIgdG9waWMgPSBTdHJpbmcoIG1lc3NhZ2UgKSxcbiAgICAgICAgICAgIGZvdW5kID0gQm9vbGVhbihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoIG1lc3NhZ2VzLCB0b3BpYyApICYmIGhhc0tleXMobWVzc2FnZXNbdG9waWNdKSk7XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lc3NhZ2VIYXNTdWJzY3JpYmVycyggbWVzc2FnZSApe1xuICAgICAgICB2YXIgdG9waWMgPSBTdHJpbmcoIG1lc3NhZ2UgKSxcbiAgICAgICAgICAgIGZvdW5kID0gaGFzRGlyZWN0U3Vic2NyaWJlcnNGb3IodG9waWMpIHx8IGhhc0RpcmVjdFN1YnNjcmliZXJzRm9yKEFMTF9TVUJTQ1JJQklOR19NU0cpLFxuICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG5cbiAgICAgICAgd2hpbGUgKCAhZm91bmQgJiYgcG9zaXRpb24gIT09IC0xICl7XG4gICAgICAgICAgICB0b3BpYyA9IHRvcGljLnN1YnN0ciggMCwgcG9zaXRpb24gKTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoICcuJyApO1xuICAgICAgICAgICAgZm91bmQgPSBoYXNEaXJlY3RTdWJzY3JpYmVyc0Zvcih0b3BpYyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVibGlzaCggbWVzc2FnZSwgZGF0YSwgc3luYywgaW1tZWRpYXRlRXhjZXB0aW9ucyApe1xuICAgICAgICBtZXNzYWdlID0gKHR5cGVvZiBtZXNzYWdlID09PSAnc3ltYm9sJykgPyBtZXNzYWdlLnRvU3RyaW5nKCkgOiBtZXNzYWdlO1xuXG4gICAgICAgIHZhciBkZWxpdmVyID0gY3JlYXRlRGVsaXZlcnlGdW5jdGlvbiggbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApLFxuICAgICAgICAgICAgaGFzU3Vic2NyaWJlcnMgPSBtZXNzYWdlSGFzU3Vic2NyaWJlcnMoIG1lc3NhZ2UgKTtcblxuICAgICAgICBpZiAoICFoYXNTdWJzY3JpYmVycyApe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBzeW5jID09PSB0cnVlICl7XG4gICAgICAgICAgICBkZWxpdmVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBkZWxpdmVyLCAwICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIHRoZSBtZXNzYWdlLCBwYXNzaW5nIHRoZSBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgcHVibGlzaFxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gcHVibGlzaFxuICAgICAqIEBwYXJhbSB7fSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gc3Vic2NyaWJlcnNcbiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9XG4gICAgICovXG4gICAgUHViU3ViLnB1Ymxpc2ggPSBmdW5jdGlvbiggbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICByZXR1cm4gcHVibGlzaCggbWVzc2FnZSwgZGF0YSwgZmFsc2UsIFB1YlN1Yi5pbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2hlcyB0aGUgbWVzc2FnZSBzeW5jaHJvbm91c2x5LCBwYXNzaW5nIHRoZSBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgcHVibGlzaFN5bmNcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0ge30gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIHN1YnNjcmliZXJzXG4gICAgICogQHJldHVybiB7IEJvb2xlYW4gfVxuICAgICAqL1xuICAgIFB1YlN1Yi5wdWJsaXNoU3luYyA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHJldHVybiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCB0cnVlLCBQdWJTdWIuaW1tZWRpYXRlRXhjZXB0aW9ucyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRoZSBwYXNzZWQgZnVuY3Rpb24gdG8gdGhlIHBhc3NlZCBtZXNzYWdlLiBFdmVyeSByZXR1cm5lZCB0b2tlbiBpcyB1bmlxdWUgYW5kIHNob3VsZCBiZSBzdG9yZWQgaWYgeW91IG5lZWQgdG8gdW5zdWJzY3JpYmVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIG5ldyBtZXNzYWdlIGlzIHB1Ymxpc2hlZFxuICAgICAqIEByZXR1cm4geyBTdHJpbmcgfVxuICAgICAqL1xuICAgIFB1YlN1Yi5zdWJzY3JpYmUgPSBmdW5jdGlvbiggbWVzc2FnZSwgZnVuYyApe1xuICAgICAgICBpZiAoIHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc3NhZ2UgPSAodHlwZW9mIG1lc3NhZ2UgPT09ICdzeW1ib2wnKSA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2U7XG5cbiAgICAgICAgLy8gbWVzc2FnZSBpcyBub3QgcmVnaXN0ZXJlZCB5ZXRcbiAgICAgICAgaWYgKCAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCBtZXNzYWdlcywgbWVzc2FnZSApICl7XG4gICAgICAgICAgICBtZXNzYWdlc1ttZXNzYWdlXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yY2luZyB0b2tlbiBhcyBTdHJpbmcsIHRvIGFsbG93IGZvciBmdXR1cmUgZXhwYW5zaW9ucyB3aXRob3V0IGJyZWFraW5nIHVzYWdlXG4gICAgICAgIC8vIGFuZCBhbGxvdyBmb3IgZWFzeSB1c2UgYXMga2V5IG5hbWVzIGZvciB0aGUgJ21lc3NhZ2VzJyBvYmplY3RcbiAgICAgICAgdmFyIHRva2VuID0gJ3VpZF8nICsgU3RyaW5nKCsrbGFzdFVpZCk7XG4gICAgICAgIG1lc3NhZ2VzW21lc3NhZ2VdW3Rva2VuXSA9IGZ1bmM7XG5cbiAgICAgICAgLy8gcmV0dXJuIHRva2VuIGZvciB1bnN1YnNjcmliaW5nXG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9O1xuXG4gICAgUHViU3ViLnN1YnNjcmliZUFsbCA9IGZ1bmN0aW9uKCBmdW5jICl7XG4gICAgICAgIHJldHVybiBQdWJTdWIuc3Vic2NyaWJlKEFMTF9TVUJTQ1JJQklOR19NU0csIGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRoZSBwYXNzZWQgZnVuY3Rpb24gdG8gdGhlIHBhc3NlZCBtZXNzYWdlIG9uY2VcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlT25jZVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gc3Vic2NyaWJlIHRvXG4gICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBuZXcgbWVzc2FnZSBpcyBwdWJsaXNoZWRcbiAgICAgKiBAcmV0dXJuIHsgUHViU3ViIH1cbiAgICAgKi9cbiAgICBQdWJTdWIuc3Vic2NyaWJlT25jZSA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBmdW5jICl7XG4gICAgICAgIHZhciB0b2tlbiA9IFB1YlN1Yi5zdWJzY3JpYmUoIG1lc3NhZ2UsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBiZWZvcmUgZnVuYyBhcHBseSwgdW5zdWJzY3JpYmUgbWVzc2FnZVxuICAgICAgICAgICAgUHViU3ViLnVuc3Vic2NyaWJlKCB0b2tlbiApO1xuICAgICAgICAgICAgZnVuYy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHViU3ViO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIHN1YnNjcmlwdGlvbnNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIGNsZWFyQWxsU3Vic2NyaXB0aW9uc1xuICAgICAqL1xuICAgIFB1YlN1Yi5jbGVhckFsbFN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBjbGVhckFsbFN1YnNjcmlwdGlvbnMoKXtcbiAgICAgICAgbWVzc2FnZXMgPSB7fTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgc3Vic2NyaXB0aW9ucyBieSB0aGUgdG9waWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIGNsZWFyQWxsU3Vic2NyaXB0aW9uc1xuICAgICAqIEByZXR1cm4geyBpbnQgfVxuICAgICAqL1xuICAgIFB1YlN1Yi5jbGVhclN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBjbGVhclN1YnNjcmlwdGlvbnModG9waWMpe1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgZm9yIChtIGluIG1lc3NhZ2VzKXtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDApe1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlc1ttXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBDb3VudCBzdWJzY3JpcHRpb25zIGJ5IHRoZSB0b3BpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgY291bnRTdWJzY3JpcHRpb25zXG4gICAgICogQHJldHVybiB7IEFycmF5IH1cbiAgICAqL1xuICAgIFB1YlN1Yi5jb3VudFN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBjb3VudFN1YnNjcmlwdGlvbnModG9waWMpe1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICAgIHZhciB0b2tlbjtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChtIGluIG1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1lc3NhZ2VzLCBtKSAmJiBtLmluZGV4T2YodG9waWMpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh0b2tlbiBpbiBtZXNzYWdlc1ttXSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICAgR2V0cyBzdWJzY3JpcHRpb25zIGJ5IHRoZSB0b3BpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgZ2V0U3Vic2NyaXB0aW9uc1xuICAgICovXG4gICAgUHViU3ViLmdldFN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBnZXRTdWJzY3JpcHRpb25zKHRvcGljKXtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIHZhciBsaXN0ID0gW107XG4gICAgICAgIGZvciAobSBpbiBtZXNzYWdlcyl7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1lc3NhZ2VzLCBtKSAmJiBtLmluZGV4T2YodG9waWMpID09PSAwKXtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2gobSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgc3Vic2NyaXB0aW9uc1xuICAgICAqXG4gICAgICogLSBXaGVuIHBhc3NlZCBhIHRva2VuLCByZW1vdmVzIGEgc3BlY2lmaWMgc3Vic2NyaXB0aW9uLlxuICAgICAqXG5cdCAqIC0gV2hlbiBwYXNzZWQgYSBmdW5jdGlvbiwgcmVtb3ZlcyBhbGwgc3Vic2NyaXB0aW9ucyBmb3IgdGhhdCBmdW5jdGlvblxuICAgICAqXG5cdCAqIC0gV2hlbiBwYXNzZWQgYSB0b3BpYywgcmVtb3ZlcyBhbGwgc3Vic2NyaXB0aW9ucyBmb3IgdGhhdCB0b3BpYyAoaGllcmFyY2h5KVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlT25jZVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB8IEZ1bmN0aW9uIH0gdmFsdWUgQSB0b2tlbiwgZnVuY3Rpb24gb3IgdG9waWMgdG8gdW5zdWJzY3JpYmUgZnJvbVxuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgd2l0aCBhIHRva2VuXG4gICAgICogdmFyIHRva2VuID0gUHViU3ViLnN1YnNjcmliZSgnbXl0b3BpYycsIG15RnVuYyk7XG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKHRva2VuKTtcbiAgICAgKiBAZXhhbXBsZSAvLyBVbnN1YnNjcmliaW5nIHdpdGggYSBmdW5jdGlvblxuICAgICAqIFB1YlN1Yi51bnN1YnNjcmliZShteUZ1bmMpO1xuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgZnJvbSBhIHRvcGljXG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKCdteXRvcGljJyk7XG4gICAgICovXG4gICAgUHViU3ViLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICB2YXIgZGVzY2VuZGFudFRvcGljRXhpc3RzID0gZnVuY3Rpb24odG9waWMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgICAgICBmb3IgKCBtIGluIG1lc3NhZ2VzICl7XG4gICAgICAgICAgICAgICAgICAgIGlmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1lc3NhZ2VzLCBtKSAmJiBtLmluZGV4T2YodG9waWMpID09PSAwICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIGRlc2NlbmRhbnQgb2YgdGhlIHRvcGljIGV4aXN0czpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzVG9waWMgICAgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1lc3NhZ2VzLCB2YWx1ZSkgfHwgZGVzY2VuZGFudFRvcGljRXhpc3RzKHZhbHVlKSApLFxuICAgICAgICAgICAgaXNUb2tlbiAgICA9ICFpc1RvcGljICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycsXG4gICAgICAgICAgICBpc0Z1bmN0aW9uID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2UsXG4gICAgICAgICAgICBtLCBtZXNzYWdlLCB0O1xuXG4gICAgICAgIGlmIChpc1RvcGljKXtcbiAgICAgICAgICAgIFB1YlN1Yi5jbGVhclN1YnNjcmlwdGlvbnModmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICggbSBpbiBtZXNzYWdlcyApe1xuICAgICAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoIG1lc3NhZ2VzLCBtICkgKXtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZXNbbV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIGlzVG9rZW4gJiYgbWVzc2FnZVt2YWx1ZV0gKXtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9rZW5zIGFyZSB1bmlxdWUsIHNvIHdlIGNhbiBqdXN0IHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKCB0IGluIG1lc3NhZ2UgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZSwgdCkgJiYgbWVzc2FnZVt0XSA9PT0gdmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlW3RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07Il0sIm5hbWVzIjpbIkdhbWVib2FyZCIsImJvYXJkU3F1YXJlcyIsIkFycmF5IiwiZmlsbCIsIm1hcCIsImFyZUFsbFNoaXBzU3VuayIsImV2ZXJ5Iiwicm93Iiwic3F1YXJlIiwidW5kZWZpbmVkIiwic2hpcCIsImlzU3VuayIsImlzQmxvY2tlZCIsImxlbmd0aCIsInJvd0Nvb3JkIiwiY29sdW1uQ29vcmQiLCJkaXJlY3Rpb24iLCJzdWJBcnJheSIsImlzQW55T2NjdXBpZWQiLCJzbGljZSIsImZpbHRlciIsImkiLCJjb2x1bW4iLCJmbGF0Iiwic29tZSIsImhhc093blByb3BlcnR5IiwiaXNPdXRPZkJvdW5kcyIsImdldEN1cnJlbnRCb2FyZCIsInBsYWNlU2hpcCIsImdldExlbmd0aCIsInBvc2l0aW9uT2JqZWN0Iiwic2hpcFNxdWFyZSIsInJlY2VpdmVBdHRhY2siLCJjaG9zZW5TcXVhcmUiLCJpc0VtcHR5QW5kV2FzSGl0IiwiaGl0IiwiaXNTaGlwQW5kV2FzSGl0IiwiZ2V0U3F1YXJlcyIsImdldEhpdCIsInBsYXllcjFEaXZCb2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBsYXllcjJEaXZCb2FyZCIsInBsYXllcjFCb2FyZCIsInBsYXllcjJCb2FyZCIsInJlbmRlck5ld0JvYXJkIiwicGFyZW50RGl2IiwiYm9hcmQiLCJmb3JFYWNoIiwibmV3Um93IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZCIsImoiLCJuZXdTcXVhcmUiLCJQdWJTdWIiLCJwb3B1cFNoaXBzIiwicXVlcnlTZWxlY3RvckFsbCIsInBvcHVwQm9hcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJkYXRhVHJhbnNmZXIiLCJjbGVhckRhdGEiLCJzZXREYXRhIiwidGFyZ2V0IiwiaWQiLCJyZW1vdmUiLCJmcm9tIiwiY2hpbGRyZW4iLCJwcmV2ZW50RGVmYXVsdCIsImdldERhdGEiLCJkcmFnZ2VkU2hpcCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0QXR0cmlidXRlIiwid2luZG93IiwiZXZlbnQiLCJvcHRpb25zIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJzZXRBdHRyaWJ1dGVzIiwiaW5zZXJ0IiwiZG9tQVBJIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJqb2luIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwicm9vdCIsImZhY3RvcnkiLCJjb25zb2xlIiwid2FybiIsIm1lc3NhZ2VzIiwibGFzdFVpZCIsImNhbGxTdWJzY3JpYmVyV2l0aERlbGF5ZWRFeGNlcHRpb25zIiwic3Vic2NyaWJlciIsIm1lc3NhZ2UiLCJleCIsInNldFRpbWVvdXQiLCJ0aHJvd0V4Y2VwdGlvbiIsImNhbGxTdWJzY3JpYmVyV2l0aEltbWVkaWF0ZUV4Y2VwdGlvbnMiLCJkZWxpdmVyTWVzc2FnZSIsIm9yaWdpbmFsTWVzc2FnZSIsIm1hdGNoZWRNZXNzYWdlIiwiaW1tZWRpYXRlRXhjZXB0aW9ucyIsInMiLCJzdWJzY3JpYmVycyIsImNhbGxTdWJzY3JpYmVyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FsbCIsImhhc0RpcmVjdFN1YnNjcmliZXJzRm9yIiwidG9waWMiLCJTdHJpbmciLCJCb29sZWFuIiwib2JqIiwia2V5IiwiaGFzS2V5cyIsInB1Ymxpc2giLCJzeW5jIiwiZGVsaXZlciIsInBvc2l0aW9uIiwibGFzdEluZGV4T2YiLCJzdWJzdHIiLCJjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uIiwiZm91bmQiLCJtZXNzYWdlSGFzU3Vic2NyaWJlcnMiLCJwdWJsaXNoU3luYyIsInN1YnNjcmliZSIsImZ1bmMiLCJ0b2tlbiIsInN1YnNjcmliZUFsbCIsInN1YnNjcmliZU9uY2UiLCJ1bnN1YnNjcmliZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2xlYXJBbGxTdWJzY3JpcHRpb25zIiwiY2xlYXJTdWJzY3JpcHRpb25zIiwibSIsImluZGV4T2YiLCJjb3VudFN1YnNjcmlwdGlvbnMiLCJjb3VudCIsImdldFN1YnNjcmlwdGlvbnMiLCJ2YWx1ZSIsInQiLCJpc1RvcGljIiwiZGVzY2VuZGFudFRvcGljRXhpc3RzIiwiaXNUb2tlbiIsImlzRnVuY3Rpb24iLCJyZXN1bHQiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJpbmRleEJ5SWRlbnRpZmllciIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsInVwZGF0ZSIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsInN0eWxlIiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==